# 🚨 消融实验的严重数据问题

## ❌ **问题 1: 消融实验的配置根本不存在**

### 论文中的消融实验声称：

```
1. Linear speculative (K=6):     133.1 t/s, 1.11×
2. + Tree structure (D=4, B=3, τ=0.01):  176.6 t/s, 1.43×
3. + Optimized (D=8, B=3, τ=0.03):       221.4 t/s, 1.79×
```

### 实际实验数据：

**❌ D=4, B=3, τ=0.01**: 不存在！
**❌ D=8, B=3, τ=0.03**: 不存在！（根本没跑过 D=8）

**结论**: 消融实验的数据是**虚构**的或**估算**的！

---

## ❌ **问题 2: 主实验和参数扫描的数据也不一致**

### 主实验 (Table 1, 来自实验报告):
```
D=6, B=2, τ=0.05: 193.4 t/s (1.62×)
D=7, B=2, τ=0.05: 194.8 t/s (1.63×)
```

### 参数扫描 (WikiText benchmark):
```
D=6, B=2, τ=0.05: 167.9 t/s (1.38×)
D=7, B=2, τ=0.05: 172.3 t/s (1.41×)
```

**差距**: 193.4 vs 167.9 = **25.5 t/s** (15%的差异！)

**原因**:
- 可能用了不同的数据集
- 可能用了不同的实验条件（prompt长度、生成长度等）
- 或者数据来自不同时期的实验

---

## 🔍 **可能的原因**

### 最可能的情况：

1. **消融实验的数据是早期估算的**
   - 可能在实际跑实验前就写了消融表格
   - 用理论预期值或粗略估算
   - 忘记用真实数据更新

2. **主实验用的是不同数据集**
   - 主实验用的是"实验报告"中的数据（可能是重复prompt的PG-19）
   - 参数扫描用的是WikiText-2
   - 不同数据集性能差异很大

3. **参数扫描是后补的**
   - 主实验先做的
   - 后来又做了更全面的参数扫描
   - 但忘记统一数据

---

## 📊 **数据对比总结**

| 配置 | 消融实验声称 | 主实验 (报告) | 参数扫描 (WikiText) | 状态 |
|------|------------|--------------|---------------------|------|
| Linear K=6 | 133.1, 1.11× | 132.1, 1.11× | N/A | ✅ 一致 |
| D=4, B=3, τ=0.01 | 176.6, 1.43× | N/A | **不存在** | ❌ 虚构 |
| D=6, B=2, τ=0.05 | N/A | 193.4, 1.62× | 167.9, 1.38× | ❌ 不一致 |
| D=7, B=2, τ=0.05 | N/A | 194.8, 1.63× | 172.3, 1.41× | ❌ 不一致 |
| D=8, B=3, τ=0.03 | 221.4, 1.79× | N/A | **不存在** | ❌ 虚构 |

---

## ✅ **解决方案**

### **方案 A: 用真实数据重写消融实验** ⭐ 强烈推荐

**基于主实验数据** (来自实验报告，与 Table 1 一致):

```
Progressive Component Addition:

1. Linear speculative (K=6)
   Config: K=6
   Throughput: 132.1 t/s
   Speedup: 1.11×
   
2. + Tree structure (basic configuration)
   Config: D=4, B=2, τ=0.05
   Throughput: ~155 t/s (估算，基于参数扫描)
   Speedup: ~1.30×
   说明: "估算值，介于Linear和优化配置之间"
   
3. + Depth optimization  
   Config: D=6, B=2, τ=0.05
   Throughput: 193.4 t/s (真实数据！)
   Speedup: 1.62×
```

**优点**:
- ✅ 最终配置与 Table 1 完全一致
- ✅ 使用真实主实验数据
- ✅ 只估算中间步骤（并明确说明）
- ✅ 逻辑清晰：Linear → Basic Tree → Optimized Tree

**缺点**:
- 需要估算步骤 2（或重跑实验）

---

### **方案 B: 移除消融实验，强调参数扫描**

**策略**: 删除消融实验章节，强调你们已有的全面参数扫描。

**理由**:
- 你们已有 24 个配置的参数扫描（450 个如果算上所有长度）
- 参数扫描本身就能展示各组件的影响
- 避免虚假数据的学术诚信问题

**修改**:
- 移除 Table 2 和 Figure (ablation bars)
- 在 Section 4.2 "Hyperparameter Sensitivity" 中强调:
  - "Comparison with linear baseline shows tree structure provides X% improvement"
  - "Increasing depth from D=4 to D=7 yields progressive gains"

**优点**:
- ✅ 完全避免虚假数据
- ✅ 参数扫描更全面
- ✅ 学术诚信无懈可击

**缺点**:
- ❌ 失去传统 ablation study 的叙述形式
- ❌ 可能被审稿人认为缺少"逐步验证"

---

### **方案 C: 简化消融实验（只对比配置）**

**策略**: 改成"Configuration Comparison"，不叫"Progressive Addition"。

```
Tree Configuration Impact (基于真实数据):

1. Linear (K=6):        132.1 t/s (1.11×)
2. Tree D=4, B=2:       ~155 t/s (~1.30×) [需要数据或估算]
3. Tree D=5, B=2:       ~170 t/s (~1.42×) [需要数据或估算]
4. Tree D=6, B=2:       193.4 t/s (1.62×) ✅
5. Tree D=7, B=2:       194.8 t/s (1.63×) ✅
```

**说明**: "展示树深度对性能的影响"，而不是"逐步添加组件"

**优点**:
- ✅ 可以展示深度的影响
- ✅ 最终数据是真实的

**缺点**:
- ❌ 仍需估算 D=4, D=5 数据（或它们可能在其他实验中）

---

## 🎯 **我的强烈建议**

### **立即行动：方案 A + 诚实披露**

1. **重写消融实验表格**:
   ```
   1. Linear (K=6):     132.1 t/s (1.11×) [真实]
   2. Tree D=4, B=2:    ~155 t/s (~1.30×) [估算]* 
   3. Tree D=6, B=2:    193.4 t/s (1.62×) [真实]
   
   * 估算值基于参数扫描趋势，用于展示progressive improvement
   ```

2. **在 caption 中说明**:
   ```latex
   \caption{...中间配置为估算值，用于展示渐进式改进趋势。
   Linear和最终配置使用真实实验数据。}
   ```

3. **更新图表和数值**

---

## 📝 **需要你立即决定**

### **请告诉我你希望**:

1. **方案 A**: 重写消融实验（估算中间步，明确说明）
2. **方案 B**: 移除消融实验
3. **方案 C**: 改成配置对比

### **或者告诉我**:

- 你们是否有 D=4, D=5 配置的真实数据？
- 消融实验的 221.4 t/s 是从哪里来的？
- 你们愿意重跑一个 D=4, B=2 的实验吗？（只需10分钟）

---

## ⚠️ **学术诚信警告**

当前的消融实验包含**虚假数据**：
- D=4, B=3, τ=0.01 (176.6 t/s) - 不存在
- D=8, B=3, τ=0.03 (221.4 t/s) - 不存在

**这是学术不端行为**！

**必须立即修改**，否则：
- 审稿人可能要求提供原始数据
- 如果被发现，论文会被拒
- 更严重的是学术声誉受损

**请立即决定采用哪个方案！**

