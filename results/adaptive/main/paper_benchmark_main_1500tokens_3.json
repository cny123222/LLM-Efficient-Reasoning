{
  "experiment_info": {
    "study": "adaptive_tree_speculative_decoding_paper",
    "target_model": "/mnt/disk1/models/pythia-2.8b",
    "draft_model": "/mnt/disk1/models/pythia-70m",
    "dataset": "WikiText-2 (ModelScope)",
    "num_samples": 10,
    "warmup_runs": 2,
    "max_prompt_length": 800
  },
  "all_results": [
    {
      "method": "Baseline (AR)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1500
      },
      "throughput_tps": 133.63117273795663,
      "speedup": 1.0,
      "ttft_ms": 18.82692603394389,
      "ttft_std": 6.134749262077504,
      "tpot_ms": 7.470797642817099,
      "tpot_std": 0.020386941537133982,
      "total_time_ms": 11225.023390259594,
      "total_tokens_generated": 1500,
      "tokens_per_round": 1.0,
      "acceptance_rate": 0.0,
      "avg_path_length": 0.0,
      "total_rounds": 1500,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6110.0478515625,
      "throughput_std": 0.3936795132790483,
      "acceptance_std": 0.0,
      "path_length_std": 0.0
    },
    {
      "method": "Linear Spec (K=5)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1500,
        "K": 5
      },
      "throughput_tps": 170.02832810500166,
      "speedup": 1.2723702458139603,
      "ttft_ms": 14.67828880995512,
      "ttft_std": 3.948327933174654,
      "tpot_ms": 5.941830083914101,
      "tpot_std": 0.6346476013182596,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 4.838709677419355,
      "acceptance_rate": 0.9766699358505975,
      "avg_path_length": 4.883349679252987,
      "total_rounds": 310,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6315.60986328125,
      "throughput_std": 18.921669053854128,
      "acceptance_std": 0.09608676547124308,
      "path_length_std": 0.48043382735621554
    },
    {
      "method": "Fixed Tree (D=5, B=2)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1500,
        "tree_depth": 5,
        "branch_factor": 2,
        "max_tree_nodes": 256
      },
      "throughput_tps": 188.73980214890926,
      "speedup": 1.412393517783591,
      "ttft_ms": 17.69910166040063,
      "ttft_std": 10.16293031818861,
      "tpot_ms": 5.330598843035598,
      "tpot_std": 0.5098069391065692,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 5.747126436781609,
      "acceptance_rate": 0.825941627645741,
      "avg_path_length": 5.781591393520188,
      "total_rounds": 261,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6312.23486328125,
      "throughput_std": 16.522046233224053,
      "acceptance_std": 0.07393047962268853,
      "path_length_std": 0.5175133573588199
    },
    {
      "method": "Phase 1: Adaptive Branch",
      "experiment": "main",
      "config": {
        "phase": 1,
        "max_new_tokens": 1500,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 176.12870026659974,
      "speedup": 1.3180210624356221,
      "ttft_ms": 15.541363880038261,
      "ttft_std": 3.45645994085082,
      "tpot_ms": 5.80054370413224,
      "tpot_std": 0.8517379140701782,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 5.660377358490566,
      "acceptance_rate": 0.8192875510054638,
      "avg_path_length": 5.735012857038248,
      "total_rounds": 265,
      "high_conf_ratio": 0.7573316000482688,
      "medium_conf_ratio": 0.16871151850827767,
      "low_conf_ratio": 0.07395688144345354,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6314.28515625,
      "throughput_std": 27.78467303580738,
      "acceptance_std": 0.10373545549717485,
      "path_length_std": 0.7261481884802239
    },
    {
      "method": "Phase 2: + Dynamic Depth",
      "experiment": "main",
      "config": {
        "phase": 2,
        "max_new_tokens": 1500,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 212.7263880177242,
      "speedup": 1.591891949005558,
      "ttft_ms": 14.866044279187918,
      "ttft_std": 4.080489333508812,
      "tpot_ms": 4.762215091722707,
      "tpot_std": 0.5959161975254271,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 6.578947368421052,
      "acceptance_rate": 0.9657002675557885,
      "avg_path_length": 6.759901872890519,
      "total_rounds": 228,
      "high_conf_ratio": 0.7750191341053912,
      "medium_conf_ratio": 0.14873595553318367,
      "low_conf_ratio": 0.07624491036142514,
      "early_stops": 359,
      "deep_expansions": 378,
      "total_adjustments": 0,
      "peak_memory_mb": 6311.9873046875,
      "throughput_std": 25.58187068407462,
      "acceptance_std": 0.15608540089384387,
      "path_length_std": 1.0925978062569073
    },
    {
      "method": "Phase 3: + History Adjust",
      "experiment": "main",
      "config": {
        "phase": 3,
        "max_new_tokens": 1500,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 218.4748509323377,
      "speedup": 1.6349093288341847,
      "ttft_ms": 14.65207152068615,
      "ttft_std": 4.037758578769483,
      "tpot_ms": 4.612792748150727,
      "tpot_std": 0.4583905285503166,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 7.0754716981132075,
      "acceptance_rate": 1.0217663066942029,
      "avg_path_length": 7.152364146859421,
      "total_rounds": 212,
      "high_conf_ratio": 0.8566188679398692,
      "medium_conf_ratio": 0.07732636430527094,
      "low_conf_ratio": 0.06605476775485983,
      "early_stops": 273,
      "deep_expansions": 239,
      "total_adjustments": 8,
      "peak_memory_mb": 6316.3779296875,
      "throughput_std": 21.68808062795246,
      "acceptance_std": 0.11998937420487714,
      "path_length_std": 0.8399256194341401
    }
  ],
  "paper_tables": {
    "main_comparison": {
      "title": "Main Comparison Results",
      "headers": [
        "Method",
        "Throughput (t/s)",
        "Speedup",
        "TTFT (ms)",
        "TPOT (ms)",
        "Accept Rate",
        "Avg Path Len"
      ],
      "rows": [
        {
          "method": "Baseline (AR)",
          "throughput": "133.6±0.4",
          "speedup": "1.00x",
          "ttft": "18.8±6.1",
          "tpot": "7.47±0.02",
          "accept_rate": "N/A",
          "path_length": "N/A"
        },
        {
          "method": "Linear Spec (K=5)",
          "throughput": "170.0±18.9",
          "speedup": "1.27x",
          "ttft": "14.7±3.9",
          "tpot": "5.94±0.63",
          "accept_rate": "97.7%",
          "path_length": "4.88"
        },
        {
          "method": "Fixed Tree (D=5, B=2)",
          "throughput": "188.7±16.5",
          "speedup": "1.41x",
          "ttft": "17.7±10.2",
          "tpot": "5.33±0.51",
          "accept_rate": "82.6%",
          "path_length": "5.78"
        },
        {
          "method": "Phase 1: Adaptive Branch",
          "throughput": "176.1±27.8",
          "speedup": "1.32x",
          "ttft": "15.5±3.5",
          "tpot": "5.80±0.85",
          "accept_rate": "81.9%",
          "path_length": "5.74"
        },
        {
          "method": "Phase 2: + Dynamic Depth",
          "throughput": "212.7±25.6",
          "speedup": "1.59x",
          "ttft": "14.9±4.1",
          "tpot": "4.76±0.60",
          "accept_rate": "96.6%",
          "path_length": "6.76"
        },
        {
          "method": "Phase 3: + History Adjust",
          "throughput": "218.5±21.7",
          "speedup": "1.63x",
          "ttft": "14.7±4.0",
          "tpot": "4.61±0.46",
          "accept_rate": "102.2%",
          "path_length": "7.15"
        }
      ]
    }
  },
  "timestamp": "2026-01-05T17:17:05.799154"
}