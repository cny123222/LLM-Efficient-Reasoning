{
  "experiment_info": {
    "study": "adaptive_tree_speculative_decoding_paper",
    "target_model": "/mnt/disk1/models/pythia-2.8b",
    "draft_model": "/mnt/disk1/models/pythia-70m",
    "dataset": "WikiText-2 (ModelScope)",
    "num_samples": 10,
    "warmup_runs": 2,
    "max_prompt_length": 800
  },
  "all_results": [
    {
      "method": "Baseline (AR)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1500
      },
      "throughput_tps": 132.7963060587535,
      "speedup": 1.0,
      "ttft_ms": 18.911271821707487,
      "ttft_std": 6.050670077764075,
      "tpot_ms": 7.517910752755901,
      "tpot_std": 0.03628325595394062,
      "total_time_ms": 11295.777400955558,
      "total_tokens_generated": 1500,
      "tokens_per_round": 1.0,
      "acceptance_rate": 0.0,
      "avg_path_length": 0.0,
      "total_rounds": 1500,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6110.0478515625,
      "throughput_std": 0.6646769041390649,
      "acceptance_std": 0.0,
      "path_length_std": 0.0
    },
    {
      "method": "Linear Spec (K=5)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1500,
        "K": 5
      },
      "throughput_tps": 169.12074525685725,
      "speedup": 1.273535012201564,
      "ttft_ms": 14.920486602932215,
      "ttft_std": 4.006683000123218,
      "tpot_ms": 5.976139340735972,
      "tpot_std": 0.6503192985518935,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 4.838709677419355,
      "acceptance_rate": 0.9766699358505975,
      "avg_path_length": 4.883349679252987,
      "total_rounds": 310,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6313.806640625,
      "throughput_std": 19.130862124631534,
      "acceptance_std": 0.09608676547124308,
      "path_length_std": 0.48043382735621554
    },
    {
      "method": "Fixed Tree (D=5, B=2)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1500,
        "tree_depth": 5,
        "branch_factor": 2,
        "max_tree_nodes": 256
      },
      "throughput_tps": 188.00705437586652,
      "speedup": 1.4157551512967985,
      "ttft_ms": 14.984074607491493,
      "ttft_std": 3.9304246467705934,
      "tpot_ms": 5.352474287090202,
      "tpot_std": 0.5004697933712536,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 5.747126436781609,
      "acceptance_rate": 0.825941627645741,
      "avg_path_length": 5.781591393520188,
      "total_rounds": 261,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6312.76025390625,
      "throughput_std": 16.471960268404192,
      "acceptance_std": 0.07393047962268853,
      "path_length_std": 0.5175133573588199
    },
    {
      "method": "Phase 1: Adaptive Branch",
      "experiment": "main",
      "config": {
        "phase": 1,
        "max_new_tokens": 1500,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 186.53672283581145,
      "speedup": 1.4046830696727468,
      "ttft_ms": 14.916901290416718,
      "ttft_std": 3.8972866072005217,
      "tpot_ms": 5.451858178215723,
      "tpot_std": 0.7531217712083305,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 5.660377358490566,
      "acceptance_rate": 0.8192875510054638,
      "avg_path_length": 5.735012857038248,
      "total_rounds": 265,
      "high_conf_ratio": 0.7573316000482688,
      "medium_conf_ratio": 0.16871151850827767,
      "low_conf_ratio": 0.07395688144345354,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6312.9453125,
      "throughput_std": 25.19524978915606,
      "acceptance_std": 0.10373545549717485,
      "path_length_std": 0.7261481884802239
    },
    {
      "method": "Phase 2: + Dynamic Depth",
      "experiment": "main",
      "config": {
        "phase": 2,
        "max_new_tokens": 1500,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 213.19966802149838,
      "speedup": 1.6054638442064177,
      "ttft_ms": 14.876365754753351,
      "ttft_std": 4.0214560700750654,
      "tpot_ms": 4.753916273638606,
      "tpot_std": 0.6016999200675284,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 6.578947368421052,
      "acceptance_rate": 0.9657002675557885,
      "avg_path_length": 6.759901872890519,
      "total_rounds": 228,
      "high_conf_ratio": 0.7750191341053912,
      "medium_conf_ratio": 0.14873595553318367,
      "low_conf_ratio": 0.07624491036142514,
      "early_stops": 359,
      "deep_expansions": 378,
      "total_adjustments": 0,
      "peak_memory_mb": 6310.35302734375,
      "throughput_std": 26.141897283542512,
      "acceptance_std": 0.15608540089384387,
      "path_length_std": 1.0925978062569073
    },
    {
      "method": "Phase 3: + History Adjust",
      "experiment": "main",
      "config": {
        "phase": 3,
        "max_new_tokens": 1500,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 218.4962245347198,
      "speedup": 1.6453486623193407,
      "ttft_ms": 14.648692309856415,
      "ttft_std": 4.087667216006076,
      "tpot_ms": 4.614128234858315,
      "tpot_std": 0.4661398758138825,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 7.0754716981132075,
      "acceptance_rate": 1.0217663066942029,
      "avg_path_length": 7.152364146859421,
      "total_rounds": 212,
      "high_conf_ratio": 0.8566188679398692,
      "medium_conf_ratio": 0.07732636430527094,
      "low_conf_ratio": 0.06605476775485983,
      "early_stops": 273,
      "deep_expansions": 239,
      "total_adjustments": 8,
      "peak_memory_mb": 6316.0927734375,
      "throughput_std": 22.175081167597188,
      "acceptance_std": 0.11998937420487714,
      "path_length_std": 0.8399256194341401
    }
  ],
  "paper_tables": {
    "main_comparison": {
      "title": "Main Comparison Results",
      "headers": [
        "Method",
        "Throughput (t/s)",
        "Speedup",
        "TTFT (ms)",
        "TPOT (ms)",
        "Accept Rate",
        "Avg Path Len"
      ],
      "rows": [
        {
          "method": "Baseline (AR)",
          "throughput": "132.8±0.7",
          "speedup": "1.00x",
          "ttft": "18.9±6.1",
          "tpot": "7.52±0.04",
          "accept_rate": "N/A",
          "path_length": "N/A"
        },
        {
          "method": "Linear Spec (K=5)",
          "throughput": "169.1±19.1",
          "speedup": "1.27x",
          "ttft": "14.9±4.0",
          "tpot": "5.98±0.65",
          "accept_rate": "97.7%",
          "path_length": "4.88"
        },
        {
          "method": "Fixed Tree (D=5, B=2)",
          "throughput": "188.0±16.5",
          "speedup": "1.42x",
          "ttft": "15.0±3.9",
          "tpot": "5.35±0.50",
          "accept_rate": "82.6%",
          "path_length": "5.78"
        },
        {
          "method": "Phase 1: Adaptive Branch",
          "throughput": "186.5±25.2",
          "speedup": "1.40x",
          "ttft": "14.9±3.9",
          "tpot": "5.45±0.75",
          "accept_rate": "81.9%",
          "path_length": "5.74"
        },
        {
          "method": "Phase 2: + Dynamic Depth",
          "throughput": "213.2±26.1",
          "speedup": "1.61x",
          "ttft": "14.9±4.0",
          "tpot": "4.75±0.60",
          "accept_rate": "96.6%",
          "path_length": "6.76"
        },
        {
          "method": "Phase 3: + History Adjust",
          "throughput": "218.5±22.2",
          "speedup": "1.65x",
          "ttft": "14.6±4.1",
          "tpot": "4.61±0.47",
          "accept_rate": "102.2%",
          "path_length": "7.15"
        }
      ]
    }
  },
  "timestamp": "2026-01-05T17:15:04.513902"
}