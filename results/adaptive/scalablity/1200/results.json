{
  "experiment_info": {
    "study": "adaptive_tree_speculative_decoding_paper",
    "target_model": "/mnt/disk1/models/pythia-2.8b",
    "draft_model": "/mnt/disk1/models/pythia-70m",
    "dataset": "WikiText-2 (ModelScope)",
    "num_samples": 10,
    "warmup_runs": 2,
    "max_prompt_length": 800
  },
  "all_results": [
    {
      "method": "Baseline (AR)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1200
      },
      "throughput_tps": 128.7946599551155,
      "speedup": 1.0,
      "ttft_ms": 18.843735940754414,
      "ttft_std": 6.1297069131078965,
      "tpot_ms": 7.845523229179284,
      "tpot_std": 1.009870564050715,
      "total_time_ms": 9433.471610955894,
      "total_tokens_generated": 1200,
      "tokens_per_round": 1.0,
      "acceptance_rate": 0.0,
      "avg_path_length": 0.0,
      "total_rounds": 1200,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6011.3515625,
      "throughput_std": 12.357633557831237,
      "acceptance_std": 0.0,
      "path_length_std": 0.0
    },
    {
      "method": "Linear Spec (K=5)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1200,
        "K": 5
      },
      "throughput_tps": 168.27079820669093,
      "speedup": 1.3065044642792856,
      "ttft_ms": 12.67342809587717,
      "ttft_std": 2.9619144211910915,
      "tpot_ms": 6.0215391001353655,
      "tpot_std": 0.7238055950611995,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1200,
      "tokens_per_round": 4.724409448818897,
      "acceptance_rate": 0.9557768746936114,
      "avg_path_length": 4.778884373468058,
      "total_rounds": 254,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6190.37841796875,
      "throughput_std": 20.93522985161402,
      "acceptance_std": 0.10598193811679159,
      "path_length_std": 0.5299096905839581
    },
    {
      "method": "Fixed Tree (D=5, B=2)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1200,
        "tree_depth": 5,
        "branch_factor": 2,
        "max_tree_nodes": 256
      },
      "throughput_tps": 169.24715983623878,
      "speedup": 1.3140852260118614,
      "ttft_ms": 14.621051587164402,
      "ttft_std": 4.799421133869066,
      "tpot_ms": 6.131628758196409,
      "tpot_std": 1.2855195082514042,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1200,
      "tokens_per_round": 5.714285714285714,
      "acceptance_rate": 0.8187698353808429,
      "avg_path_length": 5.731388847665899,
      "total_rounds": 210,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6188.6162109375,
      "throughput_std": 31.46248572353482,
      "acceptance_std": 0.058929675448235144,
      "path_length_std": 0.4125077281376461
    },
    {
      "method": "Phase 1: Adaptive Branch",
      "experiment": "main",
      "config": {
        "phase": 1,
        "max_new_tokens": 1200,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 186.03391022478823,
      "speedup": 1.4444225427484372,
      "ttft_ms": 12.956964131444693,
      "ttft_std": 3.193587082712165,
      "tpot_ms": 5.470488544631128,
      "tpot_std": 0.7728419899053672,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1200,
      "tokens_per_round": 5.504587155963303,
      "acceptance_rate": 0.7985280108975241,
      "avg_path_length": 5.589696076282669,
      "total_rounds": 218,
      "high_conf_ratio": 0.7316469194602349,
      "medium_conf_ratio": 0.18262844474389078,
      "low_conf_ratio": 0.08572463579587442,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6189.44970703125,
      "throughput_std": 25.676330144141396,
      "acceptance_std": 0.11025229453188476,
      "path_length_std": 0.7717660617231932
    },
    {
      "method": "Phase 2: + Dynamic Depth",
      "experiment": "main",
      "config": {
        "phase": 2,
        "max_new_tokens": 1200,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 212.6261531449039,
      "speedup": 1.6508926163476296,
      "ttft_ms": 12.917000148445368,
      "ttft_std": 3.170771299291915,
      "tpot_ms": 4.781648622360081,
      "tpot_std": 0.6728613247423246,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1200,
      "tokens_per_round": 6.282722513089006,
      "acceptance_rate": 0.9265058409290013,
      "avg_path_length": 6.485540886503008,
      "total_rounds": 191,
      "high_conf_ratio": 0.7485491214698404,
      "medium_conf_ratio": 0.16178233049069574,
      "low_conf_ratio": 0.08966854803946377,
      "early_stops": 335,
      "deep_expansions": 287,
      "total_adjustments": 0,
      "peak_memory_mb": 6186.6650390625,
      "throughput_std": 28.515069015643782,
      "acceptance_std": 0.16582375862121893,
      "path_length_std": 1.1607663103485324
    },
    {
      "method": "Phase 3: + History Adjust",
      "experiment": "main",
      "config": {
        "phase": 3,
        "max_new_tokens": 1200,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 218.41688396684157,
      "speedup": 1.6958535706601432,
      "ttft_ms": 12.974995374679565,
      "ttft_std": 3.0882899434355378,
      "tpot_ms": 4.627851068430269,
      "tpot_std": 0.5353920591148926,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1200,
      "tokens_per_round": 6.779661016949152,
      "acceptance_rate": 0.9839590675135572,
      "avg_path_length": 6.887713472594901,
      "total_rounds": 177,
      "high_conf_ratio": 0.8353773620982266,
      "medium_conf_ratio": 0.08700660357157955,
      "low_conf_ratio": 0.0776160343301939,
      "early_stops": 261,
      "deep_expansions": 185,
      "total_adjustments": 8,
      "peak_memory_mb": 6186.6259765625,
      "throughput_std": 24.756335183454752,
      "acceptance_std": 0.13284355170377268,
      "path_length_std": 0.9299048619264086
    }
  ],
  "paper_tables": {
    "main_comparison": {
      "title": "Main Comparison Results",
      "headers": [
        "Method",
        "Throughput (t/s)",
        "Speedup",
        "TTFT (ms)",
        "TPOT (ms)",
        "Accept Rate",
        "Avg Path Len"
      ],
      "rows": [
        {
          "method": "Baseline (AR)",
          "throughput": "128.8±12.4",
          "speedup": "1.00x",
          "ttft": "18.8±6.1",
          "tpot": "7.85±1.01",
          "accept_rate": "N/A",
          "path_length": "N/A"
        },
        {
          "method": "Linear Spec (K=5)",
          "throughput": "168.3±20.9",
          "speedup": "1.31x",
          "ttft": "12.7±3.0",
          "tpot": "6.02±0.72",
          "accept_rate": "95.6%",
          "path_length": "4.78"
        },
        {
          "method": "Fixed Tree (D=5, B=2)",
          "throughput": "169.2±31.5",
          "speedup": "1.31x",
          "ttft": "14.6±4.8",
          "tpot": "6.13±1.29",
          "accept_rate": "81.9%",
          "path_length": "5.73"
        },
        {
          "method": "Phase 1: Adaptive Branch",
          "throughput": "186.0±25.7",
          "speedup": "1.44x",
          "ttft": "13.0±3.2",
          "tpot": "5.47±0.77",
          "accept_rate": "79.9%",
          "path_length": "5.59"
        },
        {
          "method": "Phase 2: + Dynamic Depth",
          "throughput": "212.6±28.5",
          "speedup": "1.65x",
          "ttft": "12.9±3.2",
          "tpot": "4.78±0.67",
          "accept_rate": "92.7%",
          "path_length": "6.49"
        },
        {
          "method": "Phase 3: + History Adjust",
          "throughput": "218.4±24.8",
          "speedup": "1.70x",
          "ttft": "13.0±3.1",
          "tpot": "4.63±0.54",
          "accept_rate": "98.4%",
          "path_length": "6.89"
        }
      ]
    }
  },
  "timestamp": "2026-01-05T23:51:27.330193"
}