{
  "experiment_info": {
    "study": "adaptive_tree_speculative_decoding_paper",
    "target_model": "/mnt/disk1/models/pythia-2.8b",
    "draft_model": "/mnt/disk1/models/pythia-70m",
    "dataset": "WikiText-2 (ModelScope)",
    "num_samples": 10,
    "warmup_runs": 2,
    "max_prompt_length": 800
  },
  "all_results": [
    {
      "method": "Baseline (AR)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 100
      },
      "throughput_tps": 83.29405231305347,
      "speedup": 1.0,
      "ttft_ms": 36.984352488070726,
      "ttft_std": 13.462030490610514,
      "tpot_ms": 12.755762215703726,
      "tpot_std": 3.267104866270708,
      "total_time_ms": 1312.5605740584433,
      "total_tokens_generated": 100,
      "tokens_per_round": 1.0,
      "acceptance_rate": 0.0,
      "avg_path_length": 0.0,
      "total_rounds": 100,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 5662.6787109375,
      "throughput_std": 27.70310095094582,
      "acceptance_std": 0.0,
      "path_length_std": 0.0
    },
    {
      "method": "Linear Spec (K=5)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 100,
        "K": 5
      },
      "throughput_tps": 94.25759015519141,
      "speedup": 1.1316244982406718,
      "ttft_ms": 12.673496920615435,
      "ttft_std": 2.1279296179601985,
      "tpot_ms": 11.069869758561254,
      "tpot_std": 2.057022120157853,
      "total_time_ms": 0.0,
      "total_tokens_generated": 100,
      "tokens_per_round": 2.6315789473684212,
      "acceptance_rate": 0.5488846175917115,
      "avg_path_length": 2.7444230879585567,
      "total_rounds": 38,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 5711.5595703125,
      "throughput_std": 27.651692018779077,
      "acceptance_std": 0.15831063945609034,
      "path_length_std": 0.7915531972804517
    },
    {
      "method": "Fixed Tree (D=5, B=2)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 100,
        "tree_depth": 5,
        "branch_factor": 2,
        "max_tree_nodes": 256
      },
      "throughput_tps": 103.53566169591576,
      "speedup": 1.2430138625839209,
      "ttft_ms": 13.633666094392538,
      "ttft_std": 2.5185622396469434,
      "tpot_ms": 11.183474386110902,
      "tpot_std": 4.897994926743284,
      "total_time_ms": 0.0,
      "total_tokens_generated": 100,
      "tokens_per_round": 2.7777777777777777,
      "acceptance_rate": 0.43106203189567927,
      "avg_path_length": 3.017434223269754,
      "total_rounds": 36,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 5710.962890625,
      "throughput_std": 39.23354405898593,
      "acceptance_std": 0.15316843235277944,
      "path_length_std": 1.0721790264694562
    },
    {
      "method": "Phase 1: Adaptive Branch",
      "experiment": "main",
      "config": {
        "phase": 1,
        "max_new_tokens": 100,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 109.56438782991495,
      "speedup": 1.3153926935638418,
      "ttft_ms": 14.305426832288504,
      "ttft_std": 5.371099320155886,
      "tpot_ms": 10.184191389009356,
      "tpot_std": 4.127407604290533,
      "total_time_ms": 0.0,
      "total_tokens_generated": 100,
      "tokens_per_round": 2.857142857142857,
      "acceptance_rate": 0.44328793031909963,
      "avg_path_length": 3.1030155122336973,
      "total_rounds": 35,
      "high_conf_ratio": 0.21349515951248427,
      "medium_conf_ratio": 0.3227119636530661,
      "low_conf_ratio": 0.4637928768344496,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 5717.21728515625,
      "throughput_std": 37.68411218728196,
      "acceptance_std": 0.16390423964133757,
      "path_length_std": 1.1473296774893629
    },
    {
      "method": "Phase 2: + Dynamic Depth",
      "experiment": "main",
      "config": {
        "phase": 2,
        "max_new_tokens": 100,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 101.44722062818718,
      "speedup": 1.2179407510023237,
      "ttft_ms": 14.708898309618235,
      "ttft_std": 4.996921298510504,
      "tpot_ms": 10.22717576380819,
      "tpot_std": 2.45511211535572,
      "total_time_ms": 0.0,
      "total_tokens_generated": 100,
      "tokens_per_round": 2.7777777777777777,
      "acceptance_rate": 0.4346744181146905,
      "avg_path_length": 3.0427209268028337,
      "total_rounds": 36,
      "high_conf_ratio": 0.2596647162201199,
      "medium_conf_ratio": 0.32953400552889833,
      "low_conf_ratio": 0.4108012782509817,
      "early_stops": 133,
      "deep_expansions": 3,
      "total_adjustments": 0,
      "peak_memory_mb": 5712.26708984375,
      "throughput_std": 21.76162997459606,
      "acceptance_std": 0.1817007657002864,
      "path_length_std": 1.2719053599020047
    },
    {
      "method": "Phase 3: + History Adjust",
      "experiment": "main",
      "config": {
        "phase": 3,
        "max_new_tokens": 100,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 116.58669731262287,
      "speedup": 1.3997001475500541,
      "ttft_ms": 12.507836520671844,
      "ttft_std": 1.8770825893139267,
      "tpot_ms": 9.009090710431337,
      "tpot_std": 1.8759456277899365,
      "total_time_ms": 0.0,
      "total_tokens_generated": 100,
      "tokens_per_round": 2.5,
      "acceptance_rate": 0.40340580398077686,
      "avg_path_length": 2.823840627865438,
      "total_rounds": 40,
      "high_conf_ratio": 0.21920964063949927,
      "medium_conf_ratio": 0.3649010086367995,
      "low_conf_ratio": 0.41588935072370126,
      "early_stops": 93,
      "deep_expansions": 6,
      "total_adjustments": 8,
      "peak_memory_mb": 5711.322265625,
      "throughput_std": 35.574883729116486,
      "acceptance_std": 0.1964986159809271,
      "path_length_std": 1.37549031186649
    }
  ],
  "paper_tables": {
    "main_comparison": {
      "title": "Main Comparison Results",
      "headers": [
        "Method",
        "Throughput (t/s)",
        "Speedup",
        "TTFT (ms)",
        "TPOT (ms)",
        "Accept Rate",
        "Avg Path Len"
      ],
      "rows": [
        {
          "method": "Baseline (AR)",
          "throughput": "83.3±27.7",
          "speedup": "1.00x",
          "ttft": "37.0±13.5",
          "tpot": "12.76±3.27",
          "accept_rate": "N/A",
          "path_length": "N/A"
        },
        {
          "method": "Linear Spec (K=5)",
          "throughput": "94.3±27.7",
          "speedup": "1.13x",
          "ttft": "12.7±2.1",
          "tpot": "11.07±2.06",
          "accept_rate": "54.9%",
          "path_length": "2.74"
        },
        {
          "method": "Fixed Tree (D=5, B=2)",
          "throughput": "103.5±39.2",
          "speedup": "1.24x",
          "ttft": "13.6±2.5",
          "tpot": "11.18±4.90",
          "accept_rate": "43.1%",
          "path_length": "3.02"
        },
        {
          "method": "Phase 1: Adaptive Branch",
          "throughput": "109.6±37.7",
          "speedup": "1.32x",
          "ttft": "14.3±5.4",
          "tpot": "10.18±4.13",
          "accept_rate": "44.3%",
          "path_length": "3.10"
        },
        {
          "method": "Phase 2: + Dynamic Depth",
          "throughput": "101.4±21.8",
          "speedup": "1.22x",
          "ttft": "14.7±5.0",
          "tpot": "10.23±2.46",
          "accept_rate": "43.5%",
          "path_length": "3.04"
        },
        {
          "method": "Phase 3: + History Adjust",
          "throughput": "116.6±35.6",
          "speedup": "1.40x",
          "ttft": "12.5±1.9",
          "tpot": "9.01±1.88",
          "accept_rate": "40.3%",
          "path_length": "2.82"
        }
      ]
    }
  },
  "timestamp": "2026-01-05T23:33:26.404919"
}