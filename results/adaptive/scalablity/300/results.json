{
  "experiment_info": {
    "study": "adaptive_tree_speculative_decoding_paper",
    "target_model": "/mnt/disk1/models/pythia-2.8b",
    "draft_model": "/mnt/disk1/models/pythia-70m",
    "dataset": "WikiText-2 (ModelScope)",
    "num_samples": 10,
    "warmup_runs": 2,
    "max_prompt_length": 800
  },
  "all_results": [
    {
      "method": "Baseline (AR)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 300
      },
      "throughput_tps": 131.94970687326298,
      "speedup": 1.0,
      "ttft_ms": 19.048319570720196,
      "ttft_std": 5.735202958119543,
      "tpot_ms": 7.515372251470883,
      "tpot_std": 0.03477488501043957,
      "total_time_ms": 2273.6599950119853,
      "total_tokens_generated": 300,
      "tokens_per_round": 1.0,
      "acceptance_rate": 0.0,
      "avg_path_length": 0.0,
      "total_rounds": 300,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 5731.087890625,
      "throughput_std": 0.7137346486781571,
      "acceptance_std": 0.0,
      "path_length_std": 0.0
    },
    {
      "method": "Linear Spec (K=5)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 300,
        "K": 5
      },
      "throughput_tps": 134.62475203258094,
      "speedup": 1.0202732179002665,
      "ttft_ms": 14.17509987950325,
      "ttft_std": 6.458253262809545,
      "tpot_ms": 7.607363807037473,
      "tpot_std": 1.2413947970467245,
      "total_time_ms": 0.0,
      "total_tokens_generated": 300,
      "tokens_per_round": 3.7974683544303796,
      "acceptance_rate": 0.7716924382013707,
      "avg_path_length": 3.8584621910068533,
      "total_rounds": 79,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 5812.99755859375,
      "throughput_std": 25.320504101592007,
      "acceptance_std": 0.136171619160112,
      "path_length_std": 0.68085809580056
    },
    {
      "method": "Fixed Tree (D=5, B=2)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 300,
        "tree_depth": 5,
        "branch_factor": 2,
        "max_tree_nodes": 256
      },
      "throughput_tps": 158.31026956698875,
      "speedup": 1.199777349403625,
      "ttft_ms": 12.224388681352139,
      "ttft_std": 2.2200103147068497,
      "tpot_ms": 6.440253422285119,
      "tpot_std": 0.966103780829665,
      "total_time_ms": 0.0,
      "total_tokens_generated": 300,
      "tokens_per_round": 4.411764705882353,
      "acceptance_rate": 0.647657264313566,
      "avg_path_length": 4.533600850194962,
      "total_rounds": 68,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 5812.10546875,
      "throughput_std": 27.2103125441642,
      "acceptance_std": 0.1275404170306062,
      "path_length_std": 0.8927829192142434
    },
    {
      "method": "Phase 1: Adaptive Branch",
      "experiment": "main",
      "config": {
        "phase": 1,
        "max_new_tokens": 300,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 151.21918844043563,
      "speedup": 1.146036562140156,
      "ttft_ms": 13.707907870411873,
      "ttft_std": 5.206195751567957,
      "tpot_ms": 6.8351099248975515,
      "tpot_std": 1.3231935251306264,
      "total_time_ms": 0.0,
      "total_tokens_generated": 300,
      "tokens_per_round": 4.225352112676056,
      "acceptance_rate": 0.627237441964281,
      "avg_path_length": 4.390662093749967,
      "total_rounds": 71,
      "high_conf_ratio": 0.45305719601760613,
      "medium_conf_ratio": 0.31161104454237537,
      "low_conf_ratio": 0.23533175944001852,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 5809.38232421875,
      "throughput_std": 31.465859171167484,
      "acceptance_std": 0.14037197946039448,
      "path_length_std": 0.9826038562227614
    },
    {
      "method": "Phase 2: + Dynamic Depth",
      "experiment": "main",
      "config": {
        "phase": 2,
        "max_new_tokens": 300,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 126.03199374108502,
      "speedup": 0.9551517523425657,
      "ttft_ms": 18.42792695388198,
      "ttft_std": 7.706920148315143,
      "tpot_ms": 8.733459377350908,
      "tpot_std": 2.892651301161256,
      "total_time_ms": 0.0,
      "total_tokens_generated": 300,
      "tokens_per_round": 4.3478260869565215,
      "acceptance_rate": 0.6558237041559696,
      "avg_path_length": 4.590765929091788,
      "total_rounds": 69,
      "high_conf_ratio": 0.4996024773916175,
      "medium_conf_ratio": 0.28878789564809465,
      "low_conf_ratio": 0.2116096269602878,
      "early_stops": 206,
      "deep_expansions": 40,
      "total_adjustments": 0,
      "peak_memory_mb": 5809.17138671875,
      "throughput_std": 37.55996380135947,
      "acceptance_std": 0.1824405498316216,
      "path_length_std": 1.2770838488213516
    },
    {
      "method": "Phase 3: + History Adjust",
      "experiment": "main",
      "config": {
        "phase": 3,
        "max_new_tokens": 300,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 144.73206719301956,
      "speedup": 1.096872972457862,
      "ttft_ms": 14.360394701361656,
      "ttft_std": 5.299125045430744,
      "tpot_ms": 7.7002609974394245,
      "tpot_std": 2.632110953232236,
      "total_time_ms": 0.0,
      "total_tokens_generated": 300,
      "tokens_per_round": 4.3478260869565215,
      "acceptance_rate": 0.6558237041559696,
      "avg_path_length": 4.590765929091788,
      "total_rounds": 69,
      "high_conf_ratio": 0.4996024773916175,
      "medium_conf_ratio": 0.28878789564809465,
      "low_conf_ratio": 0.2116096269602878,
      "early_stops": 206,
      "deep_expansions": 40,
      "total_adjustments": 8,
      "peak_memory_mb": 5809.17138671875,
      "throughput_std": 48.68838494564651,
      "acceptance_std": 0.1824405498316216,
      "path_length_std": 1.2770838488213516
    }
  ],
  "paper_tables": {
    "main_comparison": {
      "title": "Main Comparison Results",
      "headers": [
        "Method",
        "Throughput (t/s)",
        "Speedup",
        "TTFT (ms)",
        "TPOT (ms)",
        "Accept Rate",
        "Avg Path Len"
      ],
      "rows": [
        {
          "method": "Baseline (AR)",
          "throughput": "131.9±0.7",
          "speedup": "1.00x",
          "ttft": "19.0±5.7",
          "tpot": "7.52±0.03",
          "accept_rate": "N/A",
          "path_length": "N/A"
        },
        {
          "method": "Linear Spec (K=5)",
          "throughput": "134.6±25.3",
          "speedup": "1.02x",
          "ttft": "14.2±6.5",
          "tpot": "7.61±1.24",
          "accept_rate": "77.2%",
          "path_length": "3.86"
        },
        {
          "method": "Fixed Tree (D=5, B=2)",
          "throughput": "158.3±27.2",
          "speedup": "1.20x",
          "ttft": "12.2±2.2",
          "tpot": "6.44±0.97",
          "accept_rate": "64.8%",
          "path_length": "4.53"
        },
        {
          "method": "Phase 1: Adaptive Branch",
          "throughput": "151.2±31.5",
          "speedup": "1.15x",
          "ttft": "13.7±5.2",
          "tpot": "6.84±1.32",
          "accept_rate": "62.7%",
          "path_length": "4.39"
        },
        {
          "method": "Phase 2: + Dynamic Depth",
          "throughput": "126.0±37.6",
          "speedup": "0.96x",
          "ttft": "18.4±7.7",
          "tpot": "8.73±2.89",
          "accept_rate": "65.6%",
          "path_length": "4.59"
        },
        {
          "method": "Phase 3: + History Adjust",
          "throughput": "144.7±48.7",
          "speedup": "1.10x",
          "ttft": "14.4±5.3",
          "tpot": "7.70±2.63",
          "accept_rate": "65.6%",
          "path_length": "4.59"
        }
      ]
    }
  },
  "timestamp": "2026-01-05T23:37:47.623113"
}