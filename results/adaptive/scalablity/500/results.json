{
  "experiment_info": {
    "study": "adaptive_tree_speculative_decoding_paper",
    "target_model": "/mnt/disk1/models/pythia-2.8b",
    "draft_model": "/mnt/disk1/models/pythia-70m",
    "dataset": "WikiText-2 (ModelScope)",
    "num_samples": 10,
    "warmup_runs": 2,
    "max_prompt_length": 800
  },
  "all_results": [
    {
      "method": "Baseline (AR)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 500
      },
      "throughput_tps": 123.85071800479238,
      "speedup": 1.0,
      "ttft_ms": 22.70324034616351,
      "ttft_std": 12.095693622927618,
      "tpot_ms": 8.315110394731164,
      "tpot_std": 1.9740173887046906,
      "total_time_ms": 4180.2584377117455,
      "total_tokens_generated": 500,
      "tokens_per_round": 1.0,
      "acceptance_rate": 0.0,
      "avg_path_length": 0.0,
      "total_rounds": 500,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 5798.40234375,
      "throughput_std": 18.007068080689496,
      "acceptance_std": 0.0,
      "path_length_std": 0.0
    },
    {
      "method": "Linear Spec (K=5)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 500,
        "K": 5
      },
      "throughput_tps": 148.0294814017674,
      "speedup": 1.195225056313678,
      "ttft_ms": 12.374050077050924,
      "ttft_std": 2.213110065145284,
      "tpot_ms": 6.8886137111112475,
      "tpot_std": 1.0189794518406459,
      "total_time_ms": 0.0,
      "total_tokens_generated": 500,
      "tokens_per_round": 4.201680672268908,
      "acceptance_rate": 0.8546738890439116,
      "avg_path_length": 4.273369445219559,
      "total_rounds": 119,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 5889.3330078125,
      "throughput_std": 23.400553520739816,
      "acceptance_std": 0.12642551496684176,
      "path_length_std": 0.6321275748342089
    },
    {
      "method": "Fixed Tree (D=5, B=2)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 500,
        "tree_depth": 5,
        "branch_factor": 2,
        "max_tree_nodes": 256
      },
      "throughput_tps": 158.12524670990348,
      "speedup": 1.2767406540492148,
      "ttft_ms": 13.789860345423222,
      "ttft_std": 3.5362635261205586,
      "tpot_ms": 6.697163540124893,
      "tpot_std": 1.7400766582093148,
      "total_time_ms": 0.0,
      "total_tokens_generated": 500,
      "tokens_per_round": 5.1020408163265305,
      "acceptance_rate": 0.7380099288546942,
      "avg_path_length": 5.166069501982859,
      "total_rounds": 98,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 5890.0791015625,
      "throughput_std": 37.365373849129206,
      "acceptance_std": 0.10046624776312355,
      "path_length_std": 0.703263734341865
    },
    {
      "method": "Phase 1: Adaptive Branch",
      "experiment": "main",
      "config": {
        "phase": 1,
        "max_new_tokens": 500,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 162.5160637578653,
      "speedup": 1.3121931497528887,
      "ttft_ms": 12.499164510518312,
      "ttft_std": 2.2165544410595106,
      "tpot_ms": 6.353869180940092,
      "tpot_std": 1.2198682088407975,
      "total_time_ms": 0.0,
      "total_tokens_generated": 500,
      "tokens_per_round": 4.672897196261682,
      "acceptance_rate": 0.6947618453956579,
      "avg_path_length": 4.863332917769606,
      "total_rounds": 107,
      "high_conf_ratio": 0.5651873346198514,
      "medium_conf_ratio": 0.2690467145698581,
      "low_conf_ratio": 0.1657659508102905,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 5892.18359375,
      "throughput_std": 30.818347746613643,
      "acceptance_std": 0.14001620121178657,
      "path_length_std": 0.9801134084825059
    },
    {
      "method": "Phase 2: + Dynamic Depth",
      "experiment": "main",
      "config": {
        "phase": 2,
        "max_new_tokens": 500,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 183.6760178764602,
      "speedup": 1.4830436257087576,
      "ttft_ms": 12.33764961361885,
      "ttft_std": 2.2713316159576715,
      "tpot_ms": 5.55202217977494,
      "tpot_std": 0.8445328609526355,
      "total_time_ms": 0.0,
      "total_tokens_generated": 500,
      "tokens_per_round": 5.154639175257732,
      "acceptance_rate": 0.7676151258320159,
      "avg_path_length": 5.373305880824112,
      "total_rounds": 97,
      "high_conf_ratio": 0.6104038556199793,
      "medium_conf_ratio": 0.23671305465574627,
      "low_conf_ratio": 0.1528830897242744,
      "early_stops": 246,
      "deep_expansions": 92,
      "total_adjustments": 0,
      "peak_memory_mb": 5890.67138671875,
      "throughput_std": 29.555648306672307,
      "acceptance_std": 0.17541546194372049,
      "path_length_std": 1.2279082336060436
    },
    {
      "method": "Phase 3: + History Adjust",
      "experiment": "main",
      "config": {
        "phase": 3,
        "max_new_tokens": 500,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 185.8437190202432,
      "speedup": 1.5005461576173666,
      "ttft_ms": 12.399102095514536,
      "ttft_std": 2.3445216341793618,
      "tpot_ms": 5.521992166526616,
      "tpot_std": 0.998861189569804,
      "total_time_ms": 0.0,
      "total_tokens_generated": 500,
      "tokens_per_round": 5.376344086021505,
      "acceptance_rate": 0.7984234850821396,
      "avg_path_length": 5.588964395574976,
      "total_rounds": 93,
      "high_conf_ratio": 0.7101913427087686,
      "medium_conf_ratio": 0.14571537973704635,
      "low_conf_ratio": 0.14409327755418505,
      "early_stops": 220,
      "deep_expansions": 60,
      "total_adjustments": 8,
      "peak_memory_mb": 5891.10693359375,
      "throughput_std": 31.96238485257846,
      "acceptance_std": 0.17328229311883997,
      "path_length_std": 1.21297605183188
    }
  ],
  "paper_tables": {
    "main_comparison": {
      "title": "Main Comparison Results",
      "headers": [
        "Method",
        "Throughput (t/s)",
        "Speedup",
        "TTFT (ms)",
        "TPOT (ms)",
        "Accept Rate",
        "Avg Path Len"
      ],
      "rows": [
        {
          "method": "Baseline (AR)",
          "throughput": "123.9±18.0",
          "speedup": "1.00x",
          "ttft": "22.7±12.1",
          "tpot": "8.32±1.97",
          "accept_rate": "N/A",
          "path_length": "N/A"
        },
        {
          "method": "Linear Spec (K=5)",
          "throughput": "148.0±23.4",
          "speedup": "1.20x",
          "ttft": "12.4±2.2",
          "tpot": "6.89±1.02",
          "accept_rate": "85.5%",
          "path_length": "4.27"
        },
        {
          "method": "Fixed Tree (D=5, B=2)",
          "throughput": "158.1±37.4",
          "speedup": "1.28x",
          "ttft": "13.8±3.5",
          "tpot": "6.70±1.74",
          "accept_rate": "73.8%",
          "path_length": "5.17"
        },
        {
          "method": "Phase 1: Adaptive Branch",
          "throughput": "162.5±30.8",
          "speedup": "1.31x",
          "ttft": "12.5±2.2",
          "tpot": "6.35±1.22",
          "accept_rate": "69.5%",
          "path_length": "4.86"
        },
        {
          "method": "Phase 2: + Dynamic Depth",
          "throughput": "183.7±29.6",
          "speedup": "1.48x",
          "ttft": "12.3±2.3",
          "tpot": "5.55±0.84",
          "accept_rate": "76.8%",
          "path_length": "5.37"
        },
        {
          "method": "Phase 3: + History Adjust",
          "throughput": "185.8±32.0",
          "speedup": "1.50x",
          "ttft": "12.4±2.3",
          "tpot": "5.52±1.00",
          "accept_rate": "79.8%",
          "path_length": "5.59"
        }
      ]
    }
  },
  "timestamp": "2026-01-05T23:42:11.234871"
}