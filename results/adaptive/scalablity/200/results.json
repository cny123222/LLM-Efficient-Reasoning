{
  "experiment_info": {
    "study": "adaptive_tree_speculative_decoding_paper",
    "target_model": "/mnt/disk1/models/pythia-2.8b",
    "draft_model": "/mnt/disk1/models/pythia-70m",
    "dataset": "WikiText-2 (ModelScope)",
    "num_samples": 10,
    "warmup_runs": 2,
    "max_prompt_length": 800
  },
  "all_results": [
    {
      "method": "Baseline (AR)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 200
      },
      "throughput_tps": 110.11312302124222,
      "speedup": 1.0,
      "ttft_ms": 32.98114715144038,
      "ttft_std": 22.920374298123967,
      "tpot_ms": 9.72578441631049,
      "tpot_std": 3.1661824838046786,
      "total_time_ms": 1978.1380304135382,
      "total_tokens_generated": 200,
      "tokens_per_round": 1.0,
      "acceptance_rate": 0.0,
      "avg_path_length": 0.0,
      "total_rounds": 200,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 5699.509765625,
      "throughput_std": 27.799397625732013,
      "acceptance_std": 0.0,
      "path_length_std": 0.0
    },
    {
      "method": "Linear Spec (K=5)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 200,
        "K": 5
      },
      "throughput_tps": 117.68469371889371,
      "speedup": 1.0687617469190374,
      "ttft_ms": 12.488357536494732,
      "ttft_std": 2.282104253775159,
      "tpot_ms": 8.789148576091975,
      "tpot_std": 1.6442878059982746,
      "total_time_ms": 0.0,
      "total_tokens_generated": 200,
      "tokens_per_round": 3.278688524590164,
      "acceptance_rate": 0.6829534013759948,
      "avg_path_length": 3.4147670068799734,
      "total_rounds": 61,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 5762.38134765625,
      "throughput_std": 26.424497222499134,
      "acceptance_std": 0.15200277083162897,
      "path_length_std": 0.7600138541581447
    },
    {
      "method": "Fixed Tree (D=5, B=2)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 200,
        "tree_depth": 5,
        "branch_factor": 2,
        "max_tree_nodes": 256
      },
      "throughput_tps": 139.380827811242,
      "speedup": 1.2657967005835777,
      "ttft_ms": 12.58861180394888,
      "ttft_std": 2.1898234312851868,
      "tpot_ms": 7.357284141238779,
      "tpot_std": 1.230858002082428,
      "total_time_ms": 0.0,
      "total_tokens_generated": 200,
      "tokens_per_round": 3.7735849056603774,
      "acceptance_rate": 0.564367618879562,
      "avg_path_length": 3.9505733321569343,
      "total_rounds": 53,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 5764.3935546875,
      "throughput_std": 28.336898053906047,
      "acceptance_std": 0.14287186114704403,
      "path_length_std": 1.0001030280293084
    },
    {
      "method": "Phase 1: Adaptive Branch",
      "experiment": "main",
      "config": {
        "phase": 1,
        "max_new_tokens": 200,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 134.16955771142585,
      "speedup": 1.2184701880223927,
      "ttft_ms": 12.657033931463957,
      "ttft_std": 2.135782828221783,
      "tpot_ms": 7.757009517401457,
      "tpot_std": 1.6002362902860594,
      "total_time_ms": 0.0,
      "total_tokens_generated": 200,
      "tokens_per_round": 3.7037037037037037,
      "acceptance_rate": 0.5587376685598702,
      "avg_path_length": 3.911163679919092,
      "total_rounds": 54,
      "high_conf_ratio": 0.3477992335025394,
      "medium_conf_ratio": 0.3374013373775797,
      "low_conf_ratio": 0.3147994291198809,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 5763.17724609375,
      "throughput_std": 31.88858825159072,
      "acceptance_std": 0.145206155235226,
      "path_length_std": 1.016443086646582
    },
    {
      "method": "Phase 2: + Dynamic Depth",
      "experiment": "main",
      "config": {
        "phase": 2,
        "max_new_tokens": 200,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 144.24526747456042,
      "speedup": 1.3099734483666736,
      "ttft_ms": 13.876330200582743,
      "ttft_std": 5.2710112693875315,
      "tpot_ms": 7.159836089704186,
      "tpot_std": 1.3519784200040958,
      "total_time_ms": 0.0,
      "total_tokens_generated": 200,
      "tokens_per_round": 3.6363636363636362,
      "acceptance_rate": 0.5586958487039655,
      "avg_path_length": 3.910870940927758,
      "total_rounds": 55,
      "high_conf_ratio": 0.39682043082690327,
      "medium_conf_ratio": 0.3215329242265599,
      "low_conf_ratio": 0.2816466449465368,
      "early_stops": 182,
      "deep_expansions": 17,
      "total_adjustments": 0,
      "peak_memory_mb": 5763.7177734375,
      "throughput_std": 33.4242784761237,
      "acceptance_std": 0.19117375375609408,
      "path_length_std": 1.3382162762926582
    },
    {
      "method": "Phase 3: + History Adjust",
      "experiment": "main",
      "config": {
        "phase": 3,
        "max_new_tokens": 200,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 141.99506789919047,
      "speedup": 1.2895381041167802,
      "ttft_ms": 12.72870171815157,
      "ttft_std": 2.7145907062745125,
      "tpot_ms": 7.3111677202396095,
      "tpot_std": 1.4335615556466499,
      "total_time_ms": 0.0,
      "total_tokens_generated": 200,
      "tokens_per_round": 3.389830508474576,
      "acceptance_rate": 0.5328301680010027,
      "avg_path_length": 3.7298111760070194,
      "total_rounds": 59,
      "high_conf_ratio": 0.3603760239344759,
      "medium_conf_ratio": 0.36842038183108883,
      "low_conf_ratio": 0.2712035942344353,
      "early_stops": 151,
      "deep_expansions": 29,
      "total_adjustments": 8,
      "peak_memory_mb": 5762.85546875,
      "throughput_std": 34.6443667681054,
      "acceptance_std": 0.20346994212707903,
      "path_length_std": 1.424289594889553
    }
  ],
  "paper_tables": {
    "main_comparison": {
      "title": "Main Comparison Results",
      "headers": [
        "Method",
        "Throughput (t/s)",
        "Speedup",
        "TTFT (ms)",
        "TPOT (ms)",
        "Accept Rate",
        "Avg Path Len"
      ],
      "rows": [
        {
          "method": "Baseline (AR)",
          "throughput": "110.1±27.8",
          "speedup": "1.00x",
          "ttft": "33.0±22.9",
          "tpot": "9.73±3.17",
          "accept_rate": "N/A",
          "path_length": "N/A"
        },
        {
          "method": "Linear Spec (K=5)",
          "throughput": "117.7±26.4",
          "speedup": "1.07x",
          "ttft": "12.5±2.3",
          "tpot": "8.79±1.64",
          "accept_rate": "68.3%",
          "path_length": "3.41"
        },
        {
          "method": "Fixed Tree (D=5, B=2)",
          "throughput": "139.4±28.3",
          "speedup": "1.27x",
          "ttft": "12.6±2.2",
          "tpot": "7.36±1.23",
          "accept_rate": "56.4%",
          "path_length": "3.95"
        },
        {
          "method": "Phase 1: Adaptive Branch",
          "throughput": "134.2±31.9",
          "speedup": "1.22x",
          "ttft": "12.7±2.1",
          "tpot": "7.76±1.60",
          "accept_rate": "55.9%",
          "path_length": "3.91"
        },
        {
          "method": "Phase 2: + Dynamic Depth",
          "throughput": "144.2±33.4",
          "speedup": "1.31x",
          "ttft": "13.9±5.3",
          "tpot": "7.16±1.35",
          "accept_rate": "55.9%",
          "path_length": "3.91"
        },
        {
          "method": "Phase 3: + History Adjust",
          "throughput": "142.0±34.6",
          "speedup": "1.29x",
          "ttft": "12.7±2.7",
          "tpot": "7.31±1.43",
          "accept_rate": "53.3%",
          "path_length": "3.73"
        }
      ]
    }
  },
  "timestamp": "2026-01-05T23:36:13.075320"
}