{
  "experiment_info": {
    "study": "adaptive_tree_speculative_decoding_paper",
    "target_model": "/mnt/disk1/models/pythia-2.8b",
    "draft_model": "/mnt/disk1/models/pythia-70m",
    "dataset": "WikiText-2 (ModelScope)",
    "num_samples": 10,
    "warmup_runs": 2,
    "max_prompt_length": 800
  },
  "all_results": [
    {
      "method": "Baseline (AR)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1000
      },
      "throughput_tps": 136.5411354422385,
      "speedup": 1.0,
      "ttft_ms": 18.765550293028355,
      "ttft_std": 6.193502429353818,
      "tpot_ms": 7.305186134297401,
      "tpot_std": 0.02890627215322188,
      "total_time_ms": 7323.951684590429,
      "total_tokens_generated": 1000,
      "tokens_per_round": 1.0,
      "acceptance_rate": 0.0,
      "avg_path_length": 0.0,
      "total_rounds": 1000,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 5962.412109375,
      "throughput_std": 0.620886655850921,
      "acceptance_std": 0.0,
      "path_length_std": 0.0
    },
    {
      "method": "Linear Spec (K=5)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1000,
        "K": 5
      },
      "throughput_tps": 166.4202250950717,
      "speedup": 1.21882848385623,
      "ttft_ms": 12.40074960514903,
      "ttft_std": 2.6669221509991177,
      "tpot_ms": 6.106898527964949,
      "tpot_std": 0.8248654981982008,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1000,
      "tokens_per_round": 4.608294930875576,
      "acceptance_rate": 0.934910214598745,
      "avg_path_length": 4.674551072993726,
      "total_rounds": 217,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6104.31689453125,
      "throughput_std": 22.560919501055498,
      "acceptance_std": 0.11646185553519339,
      "path_length_std": 0.582309277675967
    },
    {
      "method": "Fixed Tree (D=5, B=2)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1000,
        "tree_depth": 5,
        "branch_factor": 2,
        "max_tree_nodes": 256
      },
      "throughput_tps": 192.40130507279505,
      "speedup": 1.4091087235332629,
      "ttft_ms": 12.382548581808805,
      "ttft_std": 2.690243538917612,
      "tpot_ms": 5.208803058508783,
      "tpot_std": 0.3524133008440469,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1000,
      "tokens_per_round": 5.649717514124294,
      "acceptance_rate": 0.8076971979588142,
      "avg_path_length": 5.6538803857117,
      "total_rounds": 177,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6108.068359375,
      "throughput_std": 13.016880451905902,
      "acceptance_std": 0.05889819747798692,
      "path_length_std": 0.41228738234590856
    },
    {
      "method": "Phase 1: Adaptive Branch",
      "experiment": "main",
      "config": {
        "phase": 1,
        "max_new_tokens": 1000,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 185.63067786273186,
      "speedup": 1.359522002373123,
      "ttft_ms": 12.378673814237118,
      "ttft_std": 2.580712418528055,
      "tpot_ms": 5.49333627158776,
      "tpot_std": 0.8179989634041746,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1000,
      "tokens_per_round": 5.347593582887701,
      "acceptance_rate": 0.7791429467396951,
      "avg_path_length": 5.454000627177867,
      "total_rounds": 187,
      "high_conf_ratio": 0.7043874932676544,
      "medium_conf_ratio": 0.19740497738286714,
      "low_conf_ratio": 0.09820752934947852,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6104.42236328125,
      "throughput_std": 27.234120434399745,
      "acceptance_std": 0.11823282500162614,
      "path_length_std": 0.8276297750113829
    },
    {
      "method": "Phase 2: + Dynamic Depth",
      "experiment": "main",
      "config": {
        "phase": 2,
        "max_new_tokens": 1000,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 211.34503120879293,
      "speedup": 1.5478487894821924,
      "ttft_ms": 12.395980581641197,
      "ttft_std": 2.5560247611191165,
      "tpot_ms": 4.82055906932801,
      "tpot_std": 0.7309003664980289,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1000,
      "tokens_per_round": 6.0606060606060606,
      "acceptance_rate": 0.8962979901828119,
      "avg_path_length": 6.274085931279684,
      "total_rounds": 165,
      "high_conf_ratio": 0.7225325503865387,
      "medium_conf_ratio": 0.1757334762046633,
      "low_conf_ratio": 0.10173397340879797,
      "early_stops": 319,
      "deep_expansions": 229,
      "total_adjustments": 0,
      "peak_memory_mb": 6105.12939453125,
      "throughput_std": 29.804476454315594,
      "acceptance_std": 0.17077073147934815,
      "path_length_std": 1.1953951203554372
    },
    {
      "method": "Phase 3: + History Adjust",
      "experiment": "main",
      "config": {
        "phase": 3,
        "max_new_tokens": 1000,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 215.42735556573842,
      "speedup": 1.5777469175717487,
      "ttft_ms": 12.403282150626183,
      "ttft_std": 2.5103774009661453,
      "tpot_ms": 4.702527436334639,
      "tpot_std": 0.5992916387950318,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1000,
      "tokens_per_round": 6.4935064935064934,
      "acceptance_rate": 0.9474552646622753,
      "avg_path_length": 6.632186852635928,
      "total_rounds": 154,
      "high_conf_ratio": 0.8155931278081224,
      "medium_conf_ratio": 0.09594135290417427,
      "low_conf_ratio": 0.08846551928770334,
      "early_stops": 251,
      "deep_expansions": 149,
      "total_adjustments": 8,
      "peak_memory_mb": 6105.26123046875,
      "throughput_std": 26.54439527671102,
      "acceptance_std": 0.14286998615733207,
      "path_length_std": 1.0000899031013246
    }
  ],
  "paper_tables": {
    "main_comparison": {
      "title": "Main Comparison Results",
      "headers": [
        "Method",
        "Throughput (t/s)",
        "Speedup",
        "TTFT (ms)",
        "TPOT (ms)",
        "Accept Rate",
        "Avg Path Len"
      ],
      "rows": [
        {
          "method": "Baseline (AR)",
          "throughput": "136.5±0.6",
          "speedup": "1.00x",
          "ttft": "18.8±6.2",
          "tpot": "7.31±0.03",
          "accept_rate": "N/A",
          "path_length": "N/A"
        },
        {
          "method": "Linear Spec (K=5)",
          "throughput": "166.4±22.6",
          "speedup": "1.22x",
          "ttft": "12.4±2.7",
          "tpot": "6.11±0.82",
          "accept_rate": "93.5%",
          "path_length": "4.67"
        },
        {
          "method": "Fixed Tree (D=5, B=2)",
          "throughput": "192.4±13.0",
          "speedup": "1.41x",
          "ttft": "12.4±2.7",
          "tpot": "5.21±0.35",
          "accept_rate": "80.8%",
          "path_length": "5.65"
        },
        {
          "method": "Phase 1: Adaptive Branch",
          "throughput": "185.6±27.2",
          "speedup": "1.36x",
          "ttft": "12.4±2.6",
          "tpot": "5.49±0.82",
          "accept_rate": "77.9%",
          "path_length": "5.45"
        },
        {
          "method": "Phase 2: + Dynamic Depth",
          "throughput": "211.3±29.8",
          "speedup": "1.55x",
          "ttft": "12.4±2.6",
          "tpot": "4.82±0.73",
          "accept_rate": "89.6%",
          "path_length": "6.27"
        },
        {
          "method": "Phase 3: + History Adjust",
          "throughput": "215.4±26.5",
          "speedup": "1.58x",
          "ttft": "12.4±2.5",
          "tpot": "4.70±0.60",
          "accept_rate": "94.7%",
          "path_length": "6.63"
        }
      ]
    }
  },
  "timestamp": "2026-01-05T23:45:50.014149"
}