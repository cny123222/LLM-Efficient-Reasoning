{
  "experiment_info": {
    "study": "adaptive_tree_speculative_decoding_paper",
    "target_model": "/mnt/disk1/models/pythia-2.8b",
    "draft_model": "/mnt/disk1/models/pythia-70m",
    "dataset": "WikiText-2 (ModelScope)",
    "num_samples": 10,
    "warmup_runs": 2,
    "max_prompt_length": 800
  },
  "all_results": [
    {
      "method": "Baseline (AR)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1800
      },
      "throughput_tps": 133.21883275474696,
      "speedup": 1.0,
      "ttft_ms": 18.834225833415985,
      "ttft_std": 5.894029096977927,
      "tpot_ms": 7.496269676161722,
      "tpot_std": 0.04393674831805095,
      "total_time_ms": 13512.119642924517,
      "total_tokens_generated": 1800,
      "tokens_per_round": 1.0,
      "acceptance_rate": 0.0,
      "avg_path_length": 0.0,
      "total_rounds": 1800,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6223.6103515625,
      "throughput_std": 0.8244469307630105,
      "acceptance_std": 0.0,
      "path_length_std": 0.0
    },
    {
      "method": "Linear Spec (K=5)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1800,
        "K": 5
      },
      "throughput_tps": 160.81234348397027,
      "speedup": 1.207129203571558,
      "ttft_ms": 17.424277123063803,
      "ttft_std": 5.591209114252589,
      "tpot_ms": 6.420241417570248,
      "tpot_std": 1.233009730390791,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1800,
      "tokens_per_round": 4.931506849315069,
      "acceptance_rate": 0.9932036807176955,
      "avg_path_length": 4.966018403588477,
      "total_rounds": 365,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6444.22216796875,
      "throughput_std": 28.183186497025122,
      "acceptance_std": 0.08862619566567317,
      "path_length_std": 0.4431309783283659
    },
    {
      "method": "Fixed Tree (D=5, B=2)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1800,
        "tree_depth": 5,
        "branch_factor": 2,
        "max_tree_nodes": 256
      },
      "throughput_tps": 188.02238523942546,
      "speedup": 1.4113799179247477,
      "ttft_ms": 16.9781900011003,
      "ttft_std": 5.129049816718679,
      "tpot_ms": 5.360928346299462,
      "tpot_std": 0.5523192916896307,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1800,
      "tokens_per_round": 5.769230769230769,
      "acceptance_rate": 0.8331079398550646,
      "avg_path_length": 5.831755578985452,
      "total_rounds": 312,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6441.81005859375,
      "throughput_std": 17.7783129530431,
      "acceptance_std": 0.08301703099164094,
      "path_length_std": 0.5811192169414868
    },
    {
      "method": "Phase 1: Adaptive Branch",
      "experiment": "main",
      "config": {
        "phase": 1,
        "max_new_tokens": 1800,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 188.39281638452502,
      "speedup": 1.4141605393837386,
      "ttft_ms": 16.970708407461643,
      "ttft_std": 5.034673759243323,
      "tpot_ms": 5.384783974020846,
      "tpot_std": 0.6975584378543703,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1800,
      "tokens_per_round": 5.769230769230769,
      "acceptance_rate": 0.8351633931706204,
      "avg_path_length": 5.846143752194341,
      "total_rounds": 312,
      "high_conf_ratio": 0.7719436054777925,
      "medium_conf_ratio": 0.16241385118619509,
      "low_conf_ratio": 0.06564254333601242,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6445.0859375,
      "throughput_std": 23.45331114847975,
      "acceptance_std": 0.09584490160056032,
      "path_length_std": 0.6709143112039223
    },
    {
      "method": "Phase 2: + Dynamic Depth",
      "experiment": "main",
      "config": {
        "phase": 2,
        "max_new_tokens": 1800,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 216.26681506046094,
      "speedup": 1.6233952106351477,
      "ttft_ms": 17.012356780469418,
      "ttft_std": 5.130903294737521,
      "tpot_ms": 4.67342497025513,
      "tpot_std": 0.5363645481291407,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1800,
      "tokens_per_round": 6.818181818181818,
      "acceptance_rate": 0.9939336960910568,
      "avg_path_length": 6.957535872637398,
      "total_rounds": 264,
      "high_conf_ratio": 0.794130102967251,
      "medium_conf_ratio": 0.1392255741278044,
      "low_conf_ratio": 0.06664432290494458,
      "early_stops": 383,
      "deep_expansions": 471,
      "total_adjustments": 0,
      "peak_memory_mb": 6442.607421875,
      "throughput_std": 23.85074424488699,
      "acceptance_std": 0.14673688525132364,
      "path_length_std": 1.0271581967592656
    },
    {
      "method": "Phase 3: + History Adjust",
      "experiment": "main",
      "config": {
        "phase": 3,
        "max_new_tokens": 1800,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 219.0963671512091,
      "speedup": 1.6446350911553238,
      "ttft_ms": 16.962866950780153,
      "ttft_std": 5.309757020302756,
      "tpot_ms": 4.596228366614215,
      "tpot_std": 0.4320208276427641,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1800,
      "tokens_per_round": 7.2,
      "acceptance_rate": 1.0400686385258675,
      "avg_path_length": 7.280480469681073,
      "total_rounds": 250,
      "high_conf_ratio": 0.8672895797480168,
      "medium_conf_ratio": 0.072853437900297,
      "low_conf_ratio": 0.05985698235168625,
      "early_stops": 301,
      "deep_expansions": 293,
      "total_adjustments": 8,
      "peak_memory_mb": 6443.03125,
      "throughput_std": 21.039702851617353,
      "acceptance_std": 0.1104999022681366,
      "path_length_std": 0.7734993158769563
    }
  ],
  "paper_tables": {
    "main_comparison": {
      "title": "Main Comparison Results",
      "headers": [
        "Method",
        "Throughput (t/s)",
        "Speedup",
        "TTFT (ms)",
        "TPOT (ms)",
        "Accept Rate",
        "Avg Path Len"
      ],
      "rows": [
        {
          "method": "Baseline (AR)",
          "throughput": "133.2±0.8",
          "speedup": "1.00x",
          "ttft": "18.8±5.9",
          "tpot": "7.50±0.04",
          "accept_rate": "N/A",
          "path_length": "N/A"
        },
        {
          "method": "Linear Spec (K=5)",
          "throughput": "160.8±28.2",
          "speedup": "1.21x",
          "ttft": "17.4±5.6",
          "tpot": "6.42±1.23",
          "accept_rate": "99.3%",
          "path_length": "4.97"
        },
        {
          "method": "Fixed Tree (D=5, B=2)",
          "throughput": "188.0±17.8",
          "speedup": "1.41x",
          "ttft": "17.0±5.1",
          "tpot": "5.36±0.55",
          "accept_rate": "83.3%",
          "path_length": "5.83"
        },
        {
          "method": "Phase 1: Adaptive Branch",
          "throughput": "188.4±23.5",
          "speedup": "1.41x",
          "ttft": "17.0±5.0",
          "tpot": "5.38±0.70",
          "accept_rate": "83.5%",
          "path_length": "5.85"
        },
        {
          "method": "Phase 2: + Dynamic Depth",
          "throughput": "216.3±23.9",
          "speedup": "1.62x",
          "ttft": "17.0±5.1",
          "tpot": "4.67±0.54",
          "accept_rate": "99.4%",
          "path_length": "6.96"
        },
        {
          "method": "Phase 3: + History Adjust",
          "throughput": "219.1±21.0",
          "speedup": "1.64x",
          "ttft": "17.0±5.3",
          "tpot": "4.60±0.43",
          "accept_rate": "104.0%",
          "path_length": "7.28"
        }
      ]
    }
  },
  "timestamp": "2026-01-05T23:58:55.942579"
}