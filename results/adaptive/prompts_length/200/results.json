{
  "experiment_info": {
    "study": "adaptive_tree_speculative_decoding_paper",
    "target_model": "/mnt/disk1/models/pythia-2.8b",
    "draft_model": "/mnt/disk1/models/pythia-70m",
    "dataset": "WikiText-2 (ModelScope)",
    "num_samples": 10,
    "warmup_runs": 2,
    "max_prompt_length": 200
  },
  "all_results": [
    {
      "method": "Baseline (AR)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1500
      },
      "throughput_tps": 57.47539207007905,
      "speedup": 1.0,
      "ttft_ms": 20.388596318662167,
      "ttft_std": 5.949727175874119,
      "tpot_ms": 17.73856624600788,
      "tpot_std": 2.369568417135584,
      "total_time_ms": 26628.23796533048,
      "total_tokens_generated": 1500,
      "tokens_per_round": 1.0,
      "acceptance_rate": 0.0,
      "avg_path_length": 0.0,
      "total_rounds": 1500,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 5985.67529296875,
      "throughput_std": 8.637740810079352,
      "acceptance_std": 0.0,
      "path_length_std": 0.0
    },
    {
      "method": "Linear Spec (K=5)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1500,
        "K": 5
      },
      "throughput_tps": 92.04297528410588,
      "speedup": 1.6014327518093132,
      "ttft_ms": 16.93639475852251,
      "ttft_std": 2.9010901104049784,
      "tpot_ms": 11.525959106534721,
      "tpot_std": 3.064879960487928,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 5.016722408026756,
      "acceptance_rate": 1.0167523046702658,
      "avg_path_length": 5.08376152335133,
      "total_rounds": 299,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6163.10009765625,
      "throughput_std": 20.88493227285056,
      "acceptance_std": 0.11599631308949548,
      "path_length_std": 0.5799815654474775
    },
    {
      "method": "Fixed Tree (D=5, B=2)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1500,
        "tree_depth": 5,
        "branch_factor": 2,
        "max_tree_nodes": 256
      },
      "throughput_tps": 65.75263705957362,
      "speedup": 1.144013719461056,
      "ttft_ms": 13.753963075578213,
      "ttft_std": 2.8482203900806096,
      "tpot_ms": 15.637762665686505,
      "tpot_std": 2.8608060581562724,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 5.28169014084507,
      "acceptance_rate": 0.7915968502316266,
      "avg_path_length": 5.541177951621387,
      "total_rounds": 284,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6161.28857421875,
      "throughput_std": 10.199209751576667,
      "acceptance_std": 0.14840885690452293,
      "path_length_std": 1.0388619983316605
    },
    {
      "method": "Phase 1: Adaptive Branch",
      "experiment": "main",
      "config": {
        "phase": 1,
        "max_new_tokens": 1500,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 71.78546181958129,
      "speedup": 1.2489773315866055,
      "ttft_ms": 14.016256388276815,
      "ttft_std": 2.189755335482844,
      "tpot_ms": 14.30496659297496,
      "tpot_std": 2.5460645648750084,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 5.338078291814947,
      "acceptance_rate": 0.7987510723505398,
      "avg_path_length": 5.591257506453779,
      "total_rounds": 281,
      "high_conf_ratio": 0.7352351679038803,
      "medium_conf_ratio": 0.14806292834665008,
      "low_conf_ratio": 0.11670190374946962,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6161.19384765625,
      "throughput_std": 11.017195964708883,
      "acceptance_std": 0.14815516773986867,
      "path_length_std": 1.0370861741790807
    },
    {
      "method": "Phase 2: + Dynamic Depth",
      "experiment": "main",
      "config": {
        "phase": 2,
        "max_new_tokens": 1500,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 75.74260520834599,
      "speedup": 1.317826681651757,
      "ttft_ms": 13.75329913571477,
      "ttft_std": 2.735010992034141,
      "tpot_ms": 13.281640759793422,
      "tpot_std": 1.1044918039124205,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 6.976744186046512,
      "acceptance_rate": 0.9980113792883462,
      "avg_path_length": 6.986079655018424,
      "total_rounds": 215,
      "high_conf_ratio": 0.7802187298109703,
      "medium_conf_ratio": 0.16893097492960196,
      "low_conf_ratio": 0.05085029525942771,
      "early_stops": 301,
      "deep_expansions": 437,
      "total_adjustments": 0,
      "peak_memory_mb": 6160.97314453125,
      "throughput_std": 6.065941964007494,
      "acceptance_std": 0.06686219686425406,
      "path_length_std": 0.46803537804977835
    },
    {
      "method": "Phase 3: + History Adjust",
      "experiment": "main",
      "config": {
        "phase": 3,
        "max_new_tokens": 1500,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 83.02707210110407,
      "speedup": 1.4445673028183985,
      "ttft_ms": 13.479372952133417,
      "ttft_std": 2.5702117895762964,
      "tpot_ms": 12.597514567400017,
      "tpot_std": 2.4554630516766673,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 6.756756756756757,
      "acceptance_rate": 0.9924696246020884,
      "avg_path_length": 6.947287372214619,
      "total_rounds": 222,
      "high_conf_ratio": 0.8044793620607257,
      "medium_conf_ratio": 0.12349102441414303,
      "low_conf_ratio": 0.07202961352513124,
      "early_stops": 360,
      "deep_expansions": 228,
      "total_adjustments": 8,
      "peak_memory_mb": 6160.8486328125,
      "throughput_std": 19.33164927885216,
      "acceptance_std": 0.15668095053490796,
      "path_length_std": 1.096766653744356
    }
  ],
  "paper_tables": {
    "main_comparison": {
      "title": "Main Comparison Results",
      "headers": [
        "Method",
        "Throughput (t/s)",
        "Speedup",
        "TTFT (ms)",
        "TPOT (ms)",
        "Accept Rate",
        "Avg Path Len"
      ],
      "rows": [
        {
          "method": "Baseline (AR)",
          "throughput": "57.5±8.6",
          "speedup": "1.00x",
          "ttft": "20.4±5.9",
          "tpot": "17.74±2.37",
          "accept_rate": "N/A",
          "path_length": "N/A"
        },
        {
          "method": "Linear Spec (K=5)",
          "throughput": "92.0±20.9",
          "speedup": "1.60x",
          "ttft": "16.9±2.9",
          "tpot": "11.53±3.06",
          "accept_rate": "101.7%",
          "path_length": "5.08"
        },
        {
          "method": "Fixed Tree (D=5, B=2)",
          "throughput": "65.8±10.2",
          "speedup": "1.14x",
          "ttft": "13.8±2.8",
          "tpot": "15.64±2.86",
          "accept_rate": "79.2%",
          "path_length": "5.54"
        },
        {
          "method": "Phase 1: Adaptive Branch",
          "throughput": "71.8±11.0",
          "speedup": "1.25x",
          "ttft": "14.0±2.2",
          "tpot": "14.30±2.55",
          "accept_rate": "79.9%",
          "path_length": "5.59"
        },
        {
          "method": "Phase 2: + Dynamic Depth",
          "throughput": "75.7±6.1",
          "speedup": "1.32x",
          "ttft": "13.8±2.7",
          "tpot": "13.28±1.10",
          "accept_rate": "99.8%",
          "path_length": "6.99"
        },
        {
          "method": "Phase 3: + History Adjust",
          "throughput": "83.0±19.3",
          "speedup": "1.44x",
          "ttft": "13.5±2.6",
          "tpot": "12.60±2.46",
          "accept_rate": "99.2%",
          "path_length": "6.95"
        }
      ]
    }
  },
  "timestamp": "2026-01-06T03:24:20.223227"
}