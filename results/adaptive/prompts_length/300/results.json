{
  "experiment_info": {
    "study": "adaptive_tree_speculative_decoding_paper",
    "target_model": "/mnt/disk1/models/pythia-2.8b",
    "draft_model": "/mnt/disk1/models/pythia-70m",
    "dataset": "WikiText-2 (ModelScope)",
    "num_samples": 10,
    "warmup_runs": 2,
    "max_prompt_length": 300
  },
  "all_results": [
    {
      "method": "Baseline (AR)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1500
      },
      "throughput_tps": 57.25044246468134,
      "speedup": 1.0,
      "ttft_ms": 31.416024919599295,
      "ttft_std": 20.37857213316634,
      "tpot_ms": 17.556384365695216,
      "tpot_std": 1.4177973424576644,
      "total_time_ms": 26365.992573462427,
      "total_tokens_generated": 1500,
      "tokens_per_round": 1.0,
      "acceptance_rate": 0.0,
      "avg_path_length": 0.0,
      "total_rounds": 1500,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6011.0986328125,
      "throughput_std": 4.44786934942818,
      "acceptance_std": 0.0,
      "path_length_std": 0.0
    },
    {
      "method": "Linear Spec (K=5)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1500,
        "K": 5
      },
      "throughput_tps": 106.39785733926631,
      "speedup": 1.8584634940577927,
      "ttft_ms": 15.470188483595848,
      "ttft_std": 2.683823908081894,
      "tpot_ms": 9.520387859456243,
      "tpot_std": 1.1334838549579134,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 4.761904761904762,
      "acceptance_rate": 0.9578920674635223,
      "avg_path_length": 4.789460337317612,
      "total_rounds": 315,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6196.18994140625,
      "throughput_std": 12.41249089949719,
      "acceptance_std": 0.08605196490875218,
      "path_length_std": 0.43025982454376077
    },
    {
      "method": "Fixed Tree (D=5, B=2)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1500,
        "tree_depth": 5,
        "branch_factor": 2,
        "max_tree_nodes": 256
      },
      "throughput_tps": 65.4830595171278,
      "speedup": 1.1438000598427738,
      "ttft_ms": 13.662097975611687,
      "ttft_std": 1.51907533928,
      "tpot_ms": 15.428014175842204,
      "tpot_std": 1.6299023963446861,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 5.859375,
      "acceptance_rate": 0.8403427600865119,
      "avg_path_length": 5.8823993206055825,
      "total_rounds": 256,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6194.90478515625,
      "throughput_std": 6.7089259380255655,
      "acceptance_std": 0.05320604246823083,
      "path_length_std": 0.372442297277616
    },
    {
      "method": "Phase 1: Adaptive Branch",
      "experiment": "main",
      "config": {
        "phase": 1,
        "max_new_tokens": 1500,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 63.31093396733782,
      "speedup": 1.1058592954350577,
      "ttft_ms": 14.071995485574007,
      "ttft_std": 3.419198217227437,
      "tpot_ms": 16.141879888189337,
      "tpot_std": 2.362622758855129,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 5.415162454873646,
      "acceptance_rate": 0.788816505229832,
      "avg_path_length": 5.521715536608824,
      "total_rounds": 277,
      "high_conf_ratio": 0.6501606295268277,
      "medium_conf_ratio": 0.22789979732354113,
      "low_conf_ratio": 0.12193957314963108,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6194.0166015625,
      "throughput_std": 9.614782996499642,
      "acceptance_std": 0.10392037711956868,
      "path_length_std": 0.7274426398369808
    },
    {
      "method": "Phase 2: + Dynamic Depth",
      "experiment": "main",
      "config": {
        "phase": 2,
        "max_new_tokens": 1500,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 71.3502691823155,
      "speedup": 1.246283279405789,
      "ttft_ms": 13.032332714647055,
      "ttft_std": 0.919309380466116,
      "tpot_ms": 14.167035580736894,
      "tpot_std": 1.546839656544594,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 5.639097744360902,
      "acceptance_rate": 0.8464174134312111,
      "avg_path_length": 5.924921894018478,
      "total_rounds": 266,
      "high_conf_ratio": 0.6663840231736187,
      "medium_conf_ratio": 0.20355840423520216,
      "low_conf_ratio": 0.13005757259117912,
      "early_stops": 528,
      "deep_expansions": 336,
      "total_adjustments": 0,
      "peak_memory_mb": 6192.716796875,
      "throughput_std": 7.453562219896094,
      "acceptance_std": 0.17374025109500107,
      "path_length_std": 1.2161817576650076
    },
    {
      "method": "Phase 3: + History Adjust",
      "experiment": "main",
      "config": {
        "phase": 3,
        "max_new_tokens": 1500,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 141.76622542092645,
      "speedup": 2.476246808195136,
      "ttft_ms": 13.008984737098217,
      "ttft_std": 1.7938839384852399,
      "tpot_ms": 8.912903705549736,
      "tpot_std": 4.301319776282957,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 6.097560975609756,
      "acceptance_rate": 0.8918512503898576,
      "avg_path_length": 6.242958752729004,
      "total_rounds": 246,
      "high_conf_ratio": 0.7419546636118597,
      "medium_conf_ratio": 0.16874054917126277,
      "low_conf_ratio": 0.08930478721687755,
      "early_stops": 465,
      "deep_expansions": 235,
      "total_adjustments": 8,
      "peak_memory_mb": 6193.0634765625,
      "throughput_std": 64.1822602542321,
      "acceptance_std": 0.13436205949088012,
      "path_length_std": 0.9405344164361609
    }
  ],
  "paper_tables": {
    "main_comparison": {
      "title": "Main Comparison Results",
      "headers": [
        "Method",
        "Throughput (t/s)",
        "Speedup",
        "TTFT (ms)",
        "TPOT (ms)",
        "Accept Rate",
        "Avg Path Len"
      ],
      "rows": [
        {
          "method": "Baseline (AR)",
          "throughput": "57.3±4.4",
          "speedup": "1.00x",
          "ttft": "31.4±20.4",
          "tpot": "17.56±1.42",
          "accept_rate": "N/A",
          "path_length": "N/A"
        },
        {
          "method": "Linear Spec (K=5)",
          "throughput": "106.4±12.4",
          "speedup": "1.86x",
          "ttft": "15.5±2.7",
          "tpot": "9.52±1.13",
          "accept_rate": "95.8%",
          "path_length": "4.79"
        },
        {
          "method": "Fixed Tree (D=5, B=2)",
          "throughput": "65.5±6.7",
          "speedup": "1.14x",
          "ttft": "13.7±1.5",
          "tpot": "15.43±1.63",
          "accept_rate": "84.0%",
          "path_length": "5.88"
        },
        {
          "method": "Phase 1: Adaptive Branch",
          "throughput": "63.3±9.6",
          "speedup": "1.11x",
          "ttft": "14.1±3.4",
          "tpot": "16.14±2.36",
          "accept_rate": "78.9%",
          "path_length": "5.52"
        },
        {
          "method": "Phase 2: + Dynamic Depth",
          "throughput": "71.4±7.5",
          "speedup": "1.25x",
          "ttft": "13.0±0.9",
          "tpot": "14.17±1.55",
          "accept_rate": "84.6%",
          "path_length": "5.92"
        },
        {
          "method": "Phase 3: + History Adjust",
          "throughput": "141.8±64.2",
          "speedup": "2.48x",
          "ttft": "13.0±1.8",
          "tpot": "8.91±4.30",
          "accept_rate": "89.2%",
          "path_length": "6.24"
        }
      ]
    }
  },
  "timestamp": "2026-01-06T03:24:56.829866"
}