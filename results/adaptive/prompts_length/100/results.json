{
  "experiment_info": {
    "study": "adaptive_tree_speculative_decoding_paper",
    "target_model": "/mnt/disk1/models/pythia-2.8b",
    "draft_model": "/mnt/disk1/models/pythia-70m",
    "dataset": "WikiText-2 (ModelScope)",
    "num_samples": 10,
    "warmup_runs": 2,
    "max_prompt_length": 100
  },
  "all_results": [
    {
      "method": "Baseline (AR)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1500
      },
      "throughput_tps": 76.4078116151463,
      "speedup": 1.0,
      "ttft_ms": 17.34667094424367,
      "ttft_std": 1.7054603967971873,
      "tpot_ms": 14.703695241672296,
      "tpot_std": 4.5233638123845115,
      "total_time_ms": 22072.88953345269,
      "total_tokens_generated": 1500,
      "tokens_per_round": 1.0,
      "acceptance_rate": 0.0,
      "avg_path_length": 0.0,
      "total_rounds": 1500,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 5968.3916015625,
      "throughput_std": 28.89320394394013,
      "acceptance_std": 0.0,
      "path_length_std": 0.0
    },
    {
      "method": "Linear Spec (K=5)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1500,
        "K": 5
      },
      "throughput_tps": 71.45559145953784,
      "speedup": 0.9351869913438696,
      "ttft_ms": 19.67683918774128,
      "ttft_std": 4.774309899191399,
      "tpot_ms": 14.318221019953487,
      "tpot_std": 2.2605148501598777,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 4.823151125401929,
      "acceptance_rate": 0.9907327727139806,
      "avg_path_length": 4.953663863569904,
      "total_rounds": 311,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6136.2421875,
      "throughput_std": 10.84359184580453,
      "acceptance_std": 0.1466248344698267,
      "path_length_std": 0.7331241723491335
    },
    {
      "method": "Fixed Tree (D=5, B=2)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1500,
        "tree_depth": 5,
        "branch_factor": 2,
        "max_tree_nodes": 256
      },
      "throughput_tps": 63.87394898605305,
      "speedup": 0.8359609788037868,
      "ttft_ms": 13.811021391302347,
      "ttft_std": 2.4072475279427366,
      "tpot_ms": 15.950412456380823,
      "tpot_std": 2.387555033403422,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 5.7915057915057915,
      "acceptance_rate": 0.8393004590491951,
      "avg_path_length": 5.8751032133443655,
      "total_rounds": 259,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6138.77978515625,
      "throughput_std": 8.217427459168562,
      "acceptance_std": 0.09877595735296289,
      "path_length_std": 0.6914317014707401
    },
    {
      "method": "Phase 1: Adaptive Branch",
      "experiment": "main",
      "config": {
        "phase": 1,
        "max_new_tokens": 1500,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 70.95775081363493,
      "speedup": 0.928671418716159,
      "ttft_ms": 13.257052097469568,
      "ttft_std": 2.0255435610196697,
      "tpot_ms": 14.297316538915037,
      "tpot_std": 1.7879950561080846,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 6.048387096774194,
      "acceptance_rate": 0.8673916091125905,
      "avg_path_length": 6.071741263788133,
      "total_rounds": 248,
      "high_conf_ratio": 0.7582919289056794,
      "medium_conf_ratio": 0.16466784085797775,
      "low_conf_ratio": 0.07704023023634293,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6136.96923828125,
      "throughput_std": 8.524515533466003,
      "acceptance_std": 0.058296169642367036,
      "path_length_std": 0.4080731874965693
    },
    {
      "method": "Phase 2: + Dynamic Depth",
      "experiment": "main",
      "config": {
        "phase": 2,
        "max_new_tokens": 1500,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 76.78835243821935,
      "speedup": 1.0049803915990916,
      "ttft_ms": 13.026895001530647,
      "ttft_std": 2.5768531805351254,
      "tpot_ms": 13.194484157611925,
      "tpot_std": 1.686763463716657,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 6.696428571428571,
      "acceptance_rate": 0.9825477590194456,
      "avg_path_length": 6.877834313136118,
      "total_rounds": 224,
      "high_conf_ratio": 0.7787012227838309,
      "medium_conf_ratio": 0.15356711114549443,
      "low_conf_ratio": 0.06773166607067463,
      "early_stops": 349,
      "deep_expansions": 397,
      "total_adjustments": 0,
      "peak_memory_mb": 6135.72412109375,
      "throughput_std": 8.294595996278414,
      "acceptance_std": 0.1414219830696922,
      "path_length_std": 0.9899538814878451
    },
    {
      "method": "Phase 3: + History Adjust",
      "experiment": "main",
      "config": {
        "phase": 3,
        "max_new_tokens": 1500,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 77.52698972041023,
      "speedup": 1.014647430434221,
      "ttft_ms": 12.73430846631527,
      "ttft_std": 1.9942004458770153,
      "tpot_ms": 13.10659690083315,
      "tpot_std": 1.8850794873268912,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 7.281553398058253,
      "acceptance_rate": 1.043553562601813,
      "avg_path_length": 7.304874938212691,
      "total_rounds": 206,
      "high_conf_ratio": 0.8657944403490216,
      "medium_conf_ratio": 0.07990979297023025,
      "low_conf_ratio": 0.05429576668074826,
      "early_stops": 244,
      "deep_expansions": 248,
      "total_adjustments": 8,
      "peak_memory_mb": 6134.90185546875,
      "throughput_std": 8.993414608123398,
      "acceptance_std": 0.05841699376530842,
      "path_length_std": 0.4089189563571586
    }
  ],
  "paper_tables": {
    "main_comparison": {
      "title": "Main Comparison Results",
      "headers": [
        "Method",
        "Throughput (t/s)",
        "Speedup",
        "TTFT (ms)",
        "TPOT (ms)",
        "Accept Rate",
        "Avg Path Len"
      ],
      "rows": [
        {
          "method": "Baseline (AR)",
          "throughput": "76.4±28.9",
          "speedup": "1.00x",
          "ttft": "17.3±1.7",
          "tpot": "14.70±4.52",
          "accept_rate": "N/A",
          "path_length": "N/A"
        },
        {
          "method": "Linear Spec (K=5)",
          "throughput": "71.5±10.8",
          "speedup": "0.94x",
          "ttft": "19.7±4.8",
          "tpot": "14.32±2.26",
          "accept_rate": "99.1%",
          "path_length": "4.95"
        },
        {
          "method": "Fixed Tree (D=5, B=2)",
          "throughput": "63.9±8.2",
          "speedup": "0.84x",
          "ttft": "13.8±2.4",
          "tpot": "15.95±2.39",
          "accept_rate": "83.9%",
          "path_length": "5.88"
        },
        {
          "method": "Phase 1: Adaptive Branch",
          "throughput": "71.0±8.5",
          "speedup": "0.93x",
          "ttft": "13.3±2.0",
          "tpot": "14.30±1.79",
          "accept_rate": "86.7%",
          "path_length": "6.07"
        },
        {
          "method": "Phase 2: + Dynamic Depth",
          "throughput": "76.8±8.3",
          "speedup": "1.00x",
          "ttft": "13.0±2.6",
          "tpot": "13.19±1.69",
          "accept_rate": "98.3%",
          "path_length": "6.88"
        },
        {
          "method": "Phase 3: + History Adjust",
          "throughput": "77.5±9.0",
          "speedup": "1.01x",
          "ttft": "12.7±2.0",
          "tpot": "13.11±1.89",
          "accept_rate": "104.4%",
          "path_length": "7.30"
        }
      ]
    }
  },
  "timestamp": "2026-01-06T03:23:45.021452"
}