{
  "experiment_info": {
    "study": "adaptive_tree_speculative_decoding_paper",
    "target_model": "/mnt/disk1/models/pythia-2.8b",
    "draft_model": "/mnt/disk1/models/pythia-70m",
    "dataset": "WikiText-2 (ModelScope)",
    "num_samples": 10,
    "warmup_runs": 2,
    "max_prompt_length": 750
  },
  "all_results": [
    {
      "method": "Baseline (AR)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1500
      },
      "throughput_tps": 137.9157697920443,
      "speedup": 1.0,
      "ttft_ms": 20.457023102790117,
      "ttft_std": 5.707559766004869,
      "tpot_ms": 7.237618275607626,
      "tpot_std": 0.054266486391979216,
      "total_time_ms": 10876.884436514229,
      "total_tokens_generated": 1500,
      "tokens_per_round": 1.0,
      "acceptance_rate": 0.0,
      "avg_path_length": 0.0,
      "total_rounds": 1500,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6109.54638671875,
      "throughput_std": 1.0910469455346723,
      "acceptance_std": 0.0,
      "path_length_std": 0.0
    },
    {
      "method": "Linear Spec (K=5)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1500,
        "K": 5
      },
      "throughput_tps": 188.88065163707967,
      "speedup": 1.3695362895909768,
      "ttft_ms": 14.78100772947073,
      "ttft_std": 3.2172766761150924,
      "tpot_ms": 5.4331592369203765,
      "tpot_std": 0.9704603024852946,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 5.136986301369863,
      "acceptance_rate": 1.0476480802175572,
      "avg_path_length": 5.238240401087786,
      "total_rounds": 292,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6305.34326171875,
      "throughput_std": 29.09745489395306,
      "acceptance_std": 0.14240757323246472,
      "path_length_std": 0.7120378661623238
    },
    {
      "method": "Fixed Tree (D=5, B=2)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1500,
        "tree_depth": 5,
        "branch_factor": 2,
        "max_tree_nodes": 256
      },
      "throughput_tps": 201.00187934544928,
      "speedup": 1.4574249170238407,
      "ttft_ms": 14.78986032307148,
      "ttft_std": 3.311337201610695,
      "tpot_ms": 5.045418616943062,
      "tpot_std": 0.6655760539221718,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 5.9760956175298805,
      "acceptance_rate": 0.8603588418797461,
      "avg_path_length": 6.022511893158223,
      "total_rounds": 251,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6308.068359375,
      "throughput_std": 24.44127624366216,
      "acceptance_std": 0.08414235146036989,
      "path_length_std": 0.5889964602225891
    },
    {
      "method": "Phase 1: Adaptive Branch",
      "experiment": "main",
      "config": {
        "phase": 1,
        "max_new_tokens": 1500,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 206.59497395779272,
      "speedup": 1.4979793410811981,
      "ttft_ms": 14.586431439965963,
      "ttft_std": 3.2886682497920376,
      "tpot_ms": 4.915494595592221,
      "tpot_std": 0.6780707031573688,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 6.122448979591836,
      "acceptance_rate": 0.8803870796425368,
      "avg_path_length": 6.162709557497758,
      "total_rounds": 245,
      "high_conf_ratio": 0.7692653750696267,
      "medium_conf_ratio": 0.166574733521853,
      "low_conf_ratio": 0.06415989140852034,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6305.90283203125,
      "throughput_std": 25.994703329915808,
      "acceptance_std": 0.07861960989063456,
      "path_length_std": 0.5503372692344419
    },
    {
      "method": "Phase 2: + Dynamic Depth",
      "experiment": "main",
      "config": {
        "phase": 2,
        "max_new_tokens": 1500,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 233.28667920066306,
      "speedup": 1.691515622560229,
      "ttft_ms": 14.697333239018917,
      "ttft_std": 3.352982046015196,
      "tpot_ms": 4.384811565962932,
      "tpot_std": 0.7450535825948025,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 6.944444444444445,
      "acceptance_rate": 1.0337292887644642,
      "avg_path_length": 7.236105021351247,
      "total_rounds": 216,
      "high_conf_ratio": 0.8165796955825713,
      "medium_conf_ratio": 0.12350156851003058,
      "low_conf_ratio": 0.05991873590739821,
      "early_stops": 317,
      "deep_expansions": 408,
      "total_adjustments": 0,
      "peak_memory_mb": 6306.693359375,
      "throughput_std": 33.98430428253479,
      "acceptance_std": 0.19967315554298234,
      "path_length_std": 1.397712088800876
    },
    {
      "method": "Phase 3: + History Adjust",
      "experiment": "main",
      "config": {
        "phase": 3,
        "max_new_tokens": 1500,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 234.10712493123202,
      "speedup": 1.6974645124645966,
      "ttft_ms": 14.459726866334677,
      "ttft_std": 3.110144336129057,
      "tpot_ms": 4.366676302564641,
      "tpot_std": 0.7353466495427113,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 7.142857142857143,
      "acceptance_rate": 1.0511415160538193,
      "avg_path_length": 7.357990612376736,
      "total_rounds": 210,
      "high_conf_ratio": 0.8691235133170221,
      "medium_conf_ratio": 0.07513137528061178,
      "low_conf_ratio": 0.055745111402366196,
      "early_stops": 277,
      "deep_expansions": 245,
      "total_adjustments": 8,
      "peak_memory_mb": 6304.91259765625,
      "throughput_std": 33.62659992194951,
      "acceptance_std": 0.17965721633320741,
      "path_length_std": 1.2576005143324516
    }
  ],
  "paper_tables": {
    "main_comparison": {
      "title": "Main Comparison Results",
      "headers": [
        "Method",
        "Throughput (t/s)",
        "Speedup",
        "TTFT (ms)",
        "TPOT (ms)",
        "Accept Rate",
        "Avg Path Len"
      ],
      "rows": [
        {
          "method": "Baseline (AR)",
          "throughput": "137.9±1.1",
          "speedup": "1.00x",
          "ttft": "20.5±5.7",
          "tpot": "7.24±0.05",
          "accept_rate": "N/A",
          "path_length": "N/A"
        },
        {
          "method": "Linear Spec (K=5)",
          "throughput": "188.9±29.1",
          "speedup": "1.37x",
          "ttft": "14.8±3.2",
          "tpot": "5.43±0.97",
          "accept_rate": "104.8%",
          "path_length": "5.24"
        },
        {
          "method": "Fixed Tree (D=5, B=2)",
          "throughput": "201.0±24.4",
          "speedup": "1.46x",
          "ttft": "14.8±3.3",
          "tpot": "5.05±0.67",
          "accept_rate": "86.0%",
          "path_length": "6.02"
        },
        {
          "method": "Phase 1: Adaptive Branch",
          "throughput": "206.6±26.0",
          "speedup": "1.50x",
          "ttft": "14.6±3.3",
          "tpot": "4.92±0.68",
          "accept_rate": "88.0%",
          "path_length": "6.16"
        },
        {
          "method": "Phase 2: + Dynamic Depth",
          "throughput": "233.3±34.0",
          "speedup": "1.69x",
          "ttft": "14.7±3.4",
          "tpot": "4.38±0.75",
          "accept_rate": "103.4%",
          "path_length": "7.24"
        },
        {
          "method": "Phase 3: + History Adjust",
          "throughput": "234.1±33.6",
          "speedup": "1.70x",
          "ttft": "14.5±3.1",
          "tpot": "4.37±0.74",
          "accept_rate": "105.1%",
          "path_length": "7.36"
        }
      ]
    }
  },
  "timestamp": "2026-01-06T03:11:42.798327"
}