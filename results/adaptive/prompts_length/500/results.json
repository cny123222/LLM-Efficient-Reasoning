{
  "experiment_info": {
    "study": "adaptive_tree_speculative_decoding_paper",
    "target_model": "/mnt/disk1/models/pythia-2.8b",
    "draft_model": "/mnt/disk1/models/pythia-70m",
    "dataset": "WikiText-2 (ModelScope)",
    "num_samples": 10,
    "warmup_runs": 2,
    "max_prompt_length": 500
  },
  "all_results": [
    {
      "method": "Baseline (AR)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1500
      },
      "throughput_tps": 119.37563389029533,
      "speedup": 1.0,
      "ttft_ms": 22.391126956790686,
      "ttft_std": 7.988686780385976,
      "tpot_ms": 8.616253151744603,
      "tpot_std": 1.6101125943288888,
      "total_time_ms": 12946.770854573697,
      "total_tokens_generated": 1500,
      "tokens_per_round": 1.0,
      "acceptance_rate": 0.0,
      "avg_path_length": 0.0,
      "total_rounds": 1500,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6046.29443359375,
      "throughput_std": 18.896319293110096,
      "acceptance_std": 0.0,
      "path_length_std": 0.0
    },
    {
      "method": "Linear Spec (K=5)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1500,
        "K": 5
      },
      "throughput_tps": 180.01652177557324,
      "speedup": 1.5079837979415975,
      "ttft_ms": 13.976285979151726,
      "ttft_std": 1.0064094664427177,
      "tpot_ms": 5.598287638835608,
      "tpot_std": 0.5868597373563996,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 5.1194539249146755,
      "acceptance_rate": 1.0351752828927798,
      "avg_path_length": 5.175876414463899,
      "total_rounds": 293,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6239.3251953125,
      "throughput_std": 16.250480069625493,
      "acceptance_std": 0.1018980439163813,
      "path_length_std": 0.5094902195819064
    },
    {
      "method": "Fixed Tree (D=5, B=2)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1500,
        "tree_depth": 5,
        "branch_factor": 2,
        "max_tree_nodes": 256
      },
      "throughput_tps": 199.0884677274612,
      "speedup": 1.667747941849012,
      "ttft_ms": 13.946230709552765,
      "ttft_std": 0.9643544949092796,
      "tpot_ms": 5.053717134396234,
      "tpot_std": 0.4767471183696194,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 5.9760956175298805,
      "acceptance_rate": 0.8597221547531962,
      "avg_path_length": 6.018055083272373,
      "total_rounds": 251,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6239.42138671875,
      "throughput_std": 16.903482828235283,
      "acceptance_std": 0.07775313575271486,
      "path_length_std": 0.5442719502690039
    },
    {
      "method": "Phase 1: Adaptive Branch",
      "experiment": "main",
      "config": {
        "phase": 1,
        "max_new_tokens": 1500,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 198.166513294637,
      "speedup": 1.6600248043645949,
      "ttft_ms": 13.74039463698864,
      "ttft_std": 0.9033347190648359,
      "tpot_ms": 5.0928819553926585,
      "tpot_std": 0.5542357925939447,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 6.024096385542169,
      "acceptance_rate": 0.864459660380424,
      "avg_path_length": 6.051217622662969,
      "total_rounds": 249,
      "high_conf_ratio": 0.7657854676800959,
      "medium_conf_ratio": 0.15513954377884848,
      "low_conf_ratio": 0.07907498854105556,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6237.640625,
      "throughput_std": 20.015357851973704,
      "acceptance_std": 0.06197897589619715,
      "path_length_std": 0.43385283127338026
    },
    {
      "method": "Phase 2: + Dynamic Depth",
      "experiment": "main",
      "config": {
        "phase": 2,
        "max_new_tokens": 1500,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 219.6777665877026,
      "speedup": 1.8402228279649064,
      "ttft_ms": 13.73960617929697,
      "ttft_std": 0.9222217826224467,
      "tpot_ms": 4.593432749124864,
      "tpot_std": 0.49587282852902614,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 6.818181818181818,
      "acceptance_rate": 0.9883913645693972,
      "avg_path_length": 6.91873955198578,
      "total_rounds": 220,
      "high_conf_ratio": 0.8077304691968459,
      "medium_conf_ratio": 0.12897907506960807,
      "low_conf_ratio": 0.06329045573354604,
      "early_stops": 286,
      "deep_expansions": 406,
      "total_adjustments": 0,
      "peak_memory_mb": 6238.68359375,
      "throughput_std": 22.490376503814822,
      "acceptance_std": 0.12957536866443248,
      "path_length_std": 0.9070275806510274
    },
    {
      "method": "Phase 3: + History Adjust",
      "experiment": "main",
      "config": {
        "phase": 3,
        "max_new_tokens": 1500,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 220.4717187449342,
      "speedup": 1.846873700771674,
      "ttft_ms": 15.911872312426567,
      "ttft_std": 5.268597106095685,
      "tpot_ms": 4.575106768123806,
      "tpot_std": 0.4941905398280776,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 7.009345794392523,
      "acceptance_rate": 1.0137583495233045,
      "avg_path_length": 7.096308446663132,
      "total_rounds": 214,
      "high_conf_ratio": 0.8628322599165381,
      "medium_conf_ratio": 0.07421013523977042,
      "low_conf_ratio": 0.06295760484369158,
      "early_stops": 253,
      "deep_expansions": 249,
      "total_adjustments": 8,
      "peak_memory_mb": 6238.81494140625,
      "throughput_std": 22.361308728232107,
      "acceptance_std": 0.11328839460387025,
      "path_length_std": 0.7930187622270919
    }
  ],
  "paper_tables": {
    "main_comparison": {
      "title": "Main Comparison Results",
      "headers": [
        "Method",
        "Throughput (t/s)",
        "Speedup",
        "TTFT (ms)",
        "TPOT (ms)",
        "Accept Rate",
        "Avg Path Len"
      ],
      "rows": [
        {
          "method": "Baseline (AR)",
          "throughput": "119.4±18.9",
          "speedup": "1.00x",
          "ttft": "22.4±8.0",
          "tpot": "8.62±1.61",
          "accept_rate": "N/A",
          "path_length": "N/A"
        },
        {
          "method": "Linear Spec (K=5)",
          "throughput": "180.0±16.3",
          "speedup": "1.51x",
          "ttft": "14.0±1.0",
          "tpot": "5.60±0.59",
          "accept_rate": "103.5%",
          "path_length": "5.18"
        },
        {
          "method": "Fixed Tree (D=5, B=2)",
          "throughput": "199.1±16.9",
          "speedup": "1.67x",
          "ttft": "13.9±1.0",
          "tpot": "5.05±0.48",
          "accept_rate": "86.0%",
          "path_length": "6.02"
        },
        {
          "method": "Phase 1: Adaptive Branch",
          "throughput": "198.2±20.0",
          "speedup": "1.66x",
          "ttft": "13.7±0.9",
          "tpot": "5.09±0.55",
          "accept_rate": "86.4%",
          "path_length": "6.05"
        },
        {
          "method": "Phase 2: + Dynamic Depth",
          "throughput": "219.7±22.5",
          "speedup": "1.84x",
          "ttft": "13.7±0.9",
          "tpot": "4.59±0.50",
          "accept_rate": "98.8%",
          "path_length": "6.92"
        },
        {
          "method": "Phase 3: + History Adjust",
          "throughput": "220.5±22.4",
          "speedup": "1.85x",
          "ttft": "15.9±5.3",
          "tpot": "4.58±0.49",
          "accept_rate": "101.4%",
          "path_length": "7.10"
        }
      ]
    }
  },
  "timestamp": "2026-01-06T03:11:16.954190"
}