{
  "experiment_info": {
    "study": "adaptive_tree_speculative_decoding_paper",
    "target_model": "/mnt/disk1/models/pythia-2.8b",
    "draft_model": "/mnt/disk1/models/pythia-70m",
    "dataset": "WikiText-2 (ModelScope)",
    "num_samples": 10,
    "warmup_runs": 2,
    "max_prompt_length": 1000
  },
  "all_results": [
    {
      "method": "Baseline (AR)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1500
      },
      "throughput_tps": 137.639067774137,
      "speedup": 1.0,
      "ttft_ms": 16.926657781004906,
      "ttft_std": 4.065962106221665,
      "tpot_ms": 7.254231474983195,
      "tpot_std": 0.030300675066132567,
      "total_time_ms": 10898.273870255798,
      "total_tokens_generated": 1500,
      "tokens_per_round": 1.0,
      "acceptance_rate": 0.0,
      "avg_path_length": 0.0,
      "total_rounds": 1500,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6115.69287109375,
      "throughput_std": 0.5971726155750613,
      "acceptance_std": 0.0,
      "path_length_std": 0.0
    },
    {
      "method": "Linear Spec (K=5)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1500,
        "K": 5
      },
      "throughput_tps": 176.02061253282804,
      "speedup": 1.2788564713448538,
      "ttft_ms": 9.693591855466366,
      "ttft_std": 2.9779909558859297,
      "tpot_ms": 5.805664718709886,
      "tpot_std": 0.9251207717442277,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 4.838709677419355,
      "acceptance_rate": 0.9843085815547725,
      "avg_path_length": 4.921542907773864,
      "total_rounds": 310,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6343.69189453125,
      "throughput_std": 25.066802115446315,
      "acceptance_std": 0.12371998291976075,
      "path_length_std": 0.6185999145988038
    },
    {
      "method": "Fixed Tree (D=5, B=2)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1500,
        "tree_depth": 5,
        "branch_factor": 2,
        "max_tree_nodes": 256
      },
      "throughput_tps": 183.07211727225848,
      "speedup": 1.3300883261769558,
      "ttft_ms": 10.838411841541529,
      "ttft_std": 3.636805102564551,
      "tpot_ms": 5.681872586781781,
      "tpot_std": 1.3435734641703967,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 5.7034220532319395,
      "acceptance_rate": 0.8226947278248986,
      "avg_path_length": 5.7588630947742905,
      "total_rounds": 263,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6347.0732421875,
      "throughput_std": 31.407441532313186,
      "acceptance_std": 0.08486791672205588,
      "path_length_std": 0.594075417054391
    },
    {
      "method": "Phase 1: Adaptive Branch",
      "experiment": "main",
      "config": {
        "phase": 1,
        "max_new_tokens": 1500,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 192.38636364704317,
      "speedup": 1.3977598566908735,
      "ttft_ms": 10.722726862877607,
      "ttft_std": 3.490511471834835,
      "tpot_ms": 5.20383281186223,
      "tpot_std": 0.2593822314940634,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 5.7251908396946565,
      "acceptance_rate": 0.8193568552806996,
      "avg_path_length": 5.735497986964897,
      "total_rounds": 262,
      "high_conf_ratio": 0.7200214353562047,
      "medium_conf_ratio": 0.1818836231092968,
      "low_conf_ratio": 0.0980949415344985,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6345.27685546875,
      "throughput_std": 9.739030346752303,
      "acceptance_std": 0.05492809131447252,
      "path_length_std": 0.38449663920130756
    },
    {
      "method": "Phase 2: + Dynamic Depth",
      "experiment": "main",
      "config": {
        "phase": 2,
        "max_new_tokens": 1500,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 194.2863669703043,
      "speedup": 1.4115641010379727,
      "ttft_ms": 10.105257946997881,
      "ttft_std": 2.78838855412012,
      "tpot_ms": 5.23096372205764,
      "tpot_std": 0.726599391938606,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 5.660377358490566,
      "acceptance_rate": 0.8393363055276499,
      "avg_path_length": 5.875354138693548,
      "total_rounds": 265,
      "high_conf_ratio": 0.6457635246709994,
      "medium_conf_ratio": 0.24773464379194393,
      "low_conf_ratio": 0.10650183153705658,
      "early_stops": 602,
      "deep_expansions": 329,
      "total_adjustments": 0,
      "peak_memory_mb": 6346.87060546875,
      "throughput_std": 24.407154209131292,
      "acceptance_std": 0.1481624419580808,
      "path_length_std": 1.0371370937065656
    },
    {
      "method": "Phase 3: + History Adjust",
      "experiment": "main",
      "config": {
        "phase": 3,
        "max_new_tokens": 1500,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 198.49297196745403,
      "speedup": 1.4421266808721567,
      "ttft_ms": 10.124809574335814,
      "ttft_std": 2.897514016143151,
      "tpot_ms": 5.11613550397257,
      "tpot_std": 0.7125251628960447,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 5.905511811023622,
      "acceptance_rate": 0.8777964850210905,
      "avg_path_length": 6.144575395147634,
      "total_rounds": 254,
      "high_conf_ratio": 0.7449403526509124,
      "medium_conf_ratio": 0.15394918006876682,
      "low_conf_ratio": 0.10111046728032089,
      "early_stops": 501,
      "deep_expansions": 183,
      "total_adjustments": 8,
      "peak_memory_mb": 6349.380859375,
      "throughput_std": 23.797977888137513,
      "acceptance_std": 0.15678938700883427,
      "path_length_std": 1.0975257090618398
    }
  ],
  "paper_tables": {
    "main_comparison": {
      "title": "Main Comparison Results",
      "headers": [
        "Method",
        "Throughput (t/s)",
        "Speedup",
        "TTFT (ms)",
        "TPOT (ms)",
        "Accept Rate",
        "Avg Path Len"
      ],
      "rows": [
        {
          "method": "Baseline (AR)",
          "throughput": "137.6±0.6",
          "speedup": "1.00x",
          "ttft": "16.9±4.1",
          "tpot": "7.25±0.03",
          "accept_rate": "N/A",
          "path_length": "N/A"
        },
        {
          "method": "Linear Spec (K=5)",
          "throughput": "176.0±25.1",
          "speedup": "1.28x",
          "ttft": "9.7±3.0",
          "tpot": "5.81±0.93",
          "accept_rate": "98.4%",
          "path_length": "4.92"
        },
        {
          "method": "Fixed Tree (D=5, B=2)",
          "throughput": "183.1±31.4",
          "speedup": "1.33x",
          "ttft": "10.8±3.6",
          "tpot": "5.68±1.34",
          "accept_rate": "82.3%",
          "path_length": "5.76"
        },
        {
          "method": "Phase 1: Adaptive Branch",
          "throughput": "192.4±9.7",
          "speedup": "1.40x",
          "ttft": "10.7±3.5",
          "tpot": "5.20±0.26",
          "accept_rate": "81.9%",
          "path_length": "5.74"
        },
        {
          "method": "Phase 2: + Dynamic Depth",
          "throughput": "194.3±24.4",
          "speedup": "1.41x",
          "ttft": "10.1±2.8",
          "tpot": "5.23±0.73",
          "accept_rate": "83.9%",
          "path_length": "5.88"
        },
        {
          "method": "Phase 3: + History Adjust",
          "throughput": "198.5±23.8",
          "speedup": "1.44x",
          "ttft": "10.1±2.9",
          "tpot": "5.12±0.71",
          "accept_rate": "87.8%",
          "path_length": "6.14"
        }
      ]
    }
  },
  "timestamp": "2026-01-06T03:13:24.171763"
}