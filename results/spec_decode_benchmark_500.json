{
  "config": {
    "target_model": "/mnt/disk1/models/pythia-2.8b",
    "draft_model": "/mnt/disk1/models/pythia-70m",
    "max_new_tokens": 500,
    "num_prompts": 2,
    "num_runs": 2,
    "timestamp": "2025-12-31T13:28:17.033235"
  },
  "results": [
    {
      "method": "Baseline (AR)",
      "throughputs": [
        60.36785707019899,
        85.49704361672197,
        61.07661400178867,
        117.95780199212639
      ],
      "latencies": [
        4.505709051154554,
        5.848155431449413,
        4.453423039987683,
        4.2388039752841
      ],
      "total_tokens": 1544,
      "total_time": 19.04609149787575,
      "avg_throughput": 81.224829170209,
      "std_throughput": 23.497483739042544,
      "avg_latency": 4.7615228744689375
    },
    {
      "method": "HF Assisted",
      "throughputs": [
        147.0762859513511,
        299.76692302849096,
        156.87612477005433,
        305.0140475697594
      ],
      "latencies": [
        1.183059518225491,
        1.667962545529008,
        1.1091553941369057,
        1.6392687615007162
      ],
      "total_tokens": 1348,
      "total_time": 5.599446219392121,
      "avg_throughput": 227.18334532991395,
      "std_throughput": 75.30976063533562,
      "avg_latency": 1.3998615548480302,
      "speedup": 2.79696919834506
    },
    {
      "method": "Linear K=3",
      "K": 3,
      "throughputs": [
        98.62551340690709,
        140.3193557101062,
        116.50175820931472,
        153.45320901663342
      ],
      "latencies": [
        5.069682100787759,
        3.563300283625722,
        4.29178072232753,
        3.2583222156390548
      ],
      "acceptance_rates": [
        0.9803921568627451,
        1.272264631043257,
        0.9803921568627451,
        1.272264631043257
      ],
      "total_tokens": 2000,
      "total_time": 16.183085322380066,
      "avg_throughput": 127.22495908574035,
      "std_throughput": 21.16778004164765,
      "avg_latency": 4.0457713305950165,
      "avg_acceptance_rate": 1.126328393953001,
      "speedup": 1.5663308914954654
    },
    {
      "method": "Linear K=4",
      "K": 4,
      "throughputs": [
        117.20133689144144,
        168.32076719270808,
        123.44418692085003,
        175.75832004253118
      ],
      "latencies": [
        4.266162940301001,
        2.970518779940903,
        4.050413490273058,
        2.8448155391961336
      ],
      "acceptance_rates": [
        0.8389261744966443,
        1.1682242990654206,
        0.8389261744966443,
        1.1682242990654206
      ],
      "total_tokens": 2000,
      "total_time": 14.131910749711096,
      "avg_throughput": 146.1811527618827,
      "std_throughput": 26.085296121733215,
      "avg_latency": 3.532977687427774,
      "avg_acceptance_rate": 1.0035752367810324,
      "speedup": 1.7997101902862216
    },
    {
      "method": "Linear K=5",
      "K": 5,
      "throughputs": [
        120.851919962718,
        188.3337995440857,
        125.42035168492293,
        191.6913813293393
      ],
      "latencies": [
        4.137294634245336,
        2.654860684648156,
        3.98659382853657,
        2.6083593145012856
      ],
      "acceptance_rates": [
        0.7246376811594203,
        1.098901098901099,
        0.7246376811594203,
        1.098901098901099
      ],
      "total_tokens": 2000,
      "total_time": 13.387108461931348,
      "avg_throughput": 156.57436313026648,
      "std_throughput": 33.498254221349974,
      "avg_latency": 3.346777115482837,
      "avg_acceptance_rate": 0.9117693900302597,
      "speedup": 1.9276662657198123
    },
    {
      "method": "Linear K=6",
      "K": 6,
      "throughputs": [
        130.26953214442221,
        198.77800559474994,
        133.16853558885825,
        206.6895161749748
      ],
      "latencies": [
        3.8381960215047,
        2.515368833206594,
        3.7546406723558903,
        2.4190873792394996
      ],
      "acceptance_rates": [
        0.6830601092896175,
        1.0416666666666667,
        0.6830601092896175,
        1.0416666666666667
      ],
      "total_tokens": 2000,
      "total_time": 12.527292906306684,
      "avg_throughput": 167.22639737575133,
      "std_throughput": 35.63211179465982,
      "avg_latency": 3.131823226576671,
      "avg_acceptance_rate": 0.862363387978142,
      "speedup": 2.0588088529595248
    },
    {
      "method": "TreeV2 D=4 B=2 t=0.03",
      "tree_depth": 4,
      "branch_factor": 2,
      "threshold": 0.03,
      "throughputs": [
        160.9113195046148,
        132.81593289474108,
        163.50617391359663,
        93.53713984100936
      ],
      "latencies": [
        3.1073015965521336,
        3.764608575962484,
        3.0579885030165315,
        5.345470268279314
      ],
      "acceptance_rates": [
        0.5035246727089627,
        0.3968253968253968,
        0.5035246727089627,
        0.3968253968253968
      ],
      "avg_path_lengths": [
        4.587155963302752,
        3.8461538461538463,
        4.587155963302752,
        3.8461538461538463
      ],
      "total_tokens": 2000,
      "total_time": 15.275368943810463,
      "avg_throughput": 137.69264153849045,
      "std_throughput": 28.191027284969227,
      "avg_latency": 3.8188422359526157,
      "avg_acceptance_rate": 0.4501750347671798,
      "avg_path_length": 4.2166549047282995,
      "speedup": 1.695203830468532
    },
    {
      "method": "TreeV2 D=5 B=2 t=0.03",
      "tree_depth": 5,
      "branch_factor": 2,
      "threshold": 0.03,
      "throughputs": [
        85.21525591117931,
        146.33641277343816,
        169.33155903901468,
        165.72573312459025
      ],
      "latencies": [
        5.867493967525661,
        3.41678458917886,
        2.9527868451550603,
        3.0170329650864005
      ],
      "acceptance_rates": [
        0.4608294930875576,
        0.47393364928909953,
        0.4608294930875576,
        0.47393364928909953
      ],
      "avg_path_lengths": [
        5.05050505050505,
        4.854368932038835,
        5.05050505050505,
        4.854368932038835
      ],
      "total_tokens": 2000,
      "total_time": 15.254098366945982,
      "avg_throughput": 141.6522402120556,
      "std_throughput": 33.73704351783241,
      "avg_latency": 3.8135245917364955,
      "avg_acceptance_rate": 0.46738157118832857,
      "avg_path_length": 4.952436991271942,
      "speedup": 1.7439524546763796
    },
    {
      "method": "TreeV2 D=6 B=2 t=0.02",
      "tree_depth": 6,
      "branch_factor": 2,
      "threshold": 0.02,
      "throughputs": [
        157.43531194249863,
        128.61185528523472,
        159.08311229227718,
        130.44004036014562
      ],
      "latencies": [
        3.175907576456666,
        3.887666489928961,
        3.14301117695868,
        3.8331788200885057
      ],
      "acceptance_rates": [
        0.3779289493575208,
        0.29205607476635514,
        0.3779289493575208,
        0.29205607476635514
      ],
      "avg_path_lengths": [
        5.2631578947368425,
        4.464285714285714,
        5.2631578947368425,
        4.464285714285714
      ],
      "total_tokens": 2000,
      "total_time": 14.039764063432813,
      "avg_throughput": 143.89257997003904,
      "std_throughput": 14.392960348373265,
      "avg_latency": 3.509941015858203,
      "avg_acceptance_rate": 0.334992512061938,
      "avg_path_length": 4.863721804511279,
      "speedup": 1.7715344118300074
    },
    {
      "method": "TreeV2 D=7 B=2 t=0.02",
      "tree_depth": 7,
      "branch_factor": 2,
      "threshold": 0.02,
      "throughputs": [
        148.8285365601673,
        127.29676496922902,
        83.8990155108838,
        127.25846554049025
      ],
      "latencies": [
        3.359570762142539,
        3.927829588763416,
        5.959545495919883,
        3.929011699743569
      ],
      "acceptance_rates": [
        0.3324468085106383,
        0.2730748225013654,
        0.3324468085106383,
        0.2730748225013654
      ],
      "avg_path_lengths": [
        5.208333333333333,
        4.504504504504505,
        5.208333333333333,
        4.504504504504505
      ],
      "total_tokens": 2000,
      "total_time": 17.175957546569407,
      "avg_throughput": 121.8206956451926,
      "std_throughput": 23.59573039647888,
      "avg_latency": 4.293989386642352,
      "avg_acceptance_rate": 0.30276081550600187,
      "avg_path_length": 4.856418918918919,
      "speedup": 1.4997962678371877
    },
    {
      "method": "Tree D=3 B=2",
      "tree_depth": 3,
      "branch_factor": 2,
      "threshold": null,
      "throughputs": [
        121.5988600179352,
        112.57420661723314,
        122.20425281039691,
        112.68106964158994
      ],
      "latencies": [
        4.11188065353781,
        4.441514757461846,
        4.091510634869337,
        4.437302570790052
      ],
      "acceptance_rates": [
        0.27548209366391185,
        0.2544529262086514,
        0.27548209366391185,
        0.2544529262086514
      ],
      "avg_path_lengths": [
        4.132231404958677,
        3.816793893129771,
        4.132231404958677,
        3.816793893129771
      ],
      "total_tokens": 2000,
      "total_time": 17.082208616659045,
      "avg_throughput": 117.2645972717888,
      "std_throughput": 4.642050204970688,
      "avg_latency": 4.270552154164761,
      "avg_acceptance_rate": 0.2649675099362816,
      "avg_path_length": 3.9745126490442244,
      "speedup": 1.4437038337877868
    },
    {
      "method": "Tree D=4 B=2",
      "tree_depth": 4,
      "branch_factor": 2,
      "threshold": null,
      "throughputs": [
        90.10586755986263,
        67.98219277819366,
        89.91800142211358,
        67.89419839086177
      ],
      "latencies": [
        5.5490281991660595,
        7.354867202229798,
        5.560621812008321,
        7.364399489946663
      ],
      "acceptance_rates": [
        0.14400921658986174,
        0.10824853864472829,
        0.14400921658986174,
        0.10824853864472829
      ],
      "avg_path_lengths": [
        4.464285714285714,
        3.3557046979865772,
        4.464285714285714,
        3.3557046979865772
      ],
      "total_tokens": 2000,
      "total_time": 25.828916703350842,
      "avg_throughput": 78.97506503775791,
      "std_throughput": 11.03711316037328,
      "avg_latency": 6.4572291758377105,
      "avg_acceptance_rate": 0.12612887761729502,
      "avg_path_length": 3.909995206136146,
      "speedup": 0.9723020146002813
    },
    {
      "method": "Streaming K=5 cache=512",
      "K": 5,
      "max_cache_len": 512,
      "throughputs": [
        118.81730846785322,
        189.28245015756562,
        119.44403065046224,
        193.32330266756912
      ],
      "latencies": [
        4.208141107112169,
        2.641554986126721,
        4.186061013489962,
        2.586341083049774
      ],
      "acceptance_rates": [
        0.6896551724137931,
        1.098901098901099,
        0.6896551724137931,
        1.098901098901099
      ],
      "total_tokens": 2000,
      "total_time": 13.622098189778626,
      "avg_throughput": 155.21677298586258,
      "std_throughput": 36.11505252987401,
      "avg_latency": 3.4055245474446565,
      "avg_acceptance_rate": 0.8942781356574461,
      "speedup": 1.9109522860380697
    },
    {
      "method": "Streaming K=5 cache=1024",
      "K": 5,
      "max_cache_len": 1024,
      "throughputs": [
        126.91179417477679,
        194.25375824689647,
        127.04565519978972,
        194.15566012436014
      ],
      "latencies": [
        3.9397441605105996,
        2.573952774517238,
        3.935593068599701,
        2.5752532770857215
      ],
      "acceptance_rates": [
        0.7246376811594203,
        1.098901098901099,
        0.7246376811594203,
        1.098901098901099
      ],
      "total_tokens": 2000,
      "total_time": 13.02454328071326,
      "avg_throughput": 160.59171693645578,
      "std_throughput": 33.61304346075925,
      "avg_latency": 3.256135820178315,
      "avg_acceptance_rate": 0.9117693900302597,
      "speedup": 1.9771259426096317
    },
    {
      "method": "Tree+Streaming D=5 B=2",
      "throughputs": [
        72.30742058170539,
        108.15365520241178,
        72.46374009998581,
        108.44028972874166
      ],
      "latencies": [
        6.914919602684677,
        4.623052258975804,
        6.900002667680383,
        4.610832387581468
      ],
      "total_tokens": 2000,
      "total_time": 23.04880691692233,
      "avg_throughput": 90.34127640321115,
      "speedup": 1.1122371979865708
    }
  ],
  "summary": {
    "baseline_throughput": 81.224829170209,
    "best_method": "HF Assisted",
    "best_speedup": 2.79696919834506,
    "best_throughput": 227.18334532991395
  }
}