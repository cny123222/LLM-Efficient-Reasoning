{
  "config": {
    "target_model": "/mnt/disk1/models/pythia-2.8b",
    "draft_model": "/mnt/disk1/models/pythia-70m",
    "max_new_tokens": 500,
    "num_prompts": 2,
    "num_runs": 2,
    "timestamp": "2025-12-31T13:34:26.317260"
  },
  "results": [
    {
      "method": "Baseline (AR)",
      "throughputs": [
        61.32184818400432,
        67.15826682152793,
        120.92589795754488,
        122.5953743248806
      ],
      "latencies": [
        4.435613212175667,
        7.445099816657603,
        2.2493113931268454,
        4.0784573052078485
      ],
      "total_tokens": 1544,
      "total_time": 18.208481727167964,
      "avg_throughput": 93.00034682198942,
      "std_throughput": 28.84026020092608,
      "avg_latency": 4.552120431791991
    },
    {
      "method": "HF Assisted",
      "throughputs": [
        146.82747617902186,
        303.97793603733714,
        158.81851641441617,
        308.36206979548064
      ],
      "latencies": [
        1.1850642981007695,
        1.6448562238365412,
        1.095590136013925,
        1.6214705016463995
      ],
      "total_tokens": 1348,
      "total_time": 5.546981159597635,
      "avg_throughput": 229.49649960656393,
      "std_throughput": 76.80626158814671,
      "avg_latency": 1.3867452898994088,
      "speedup": 2.467695094146689
    },
    {
      "method": "Linear K=4",
      "K": 4,
      "throughputs": [
        106.47641238887563,
        163.36516514818697,
        125.36014355042312,
        178.95734116801532
      ],
      "latencies": [
        4.695875722914934,
        3.06062800809741,
        3.988508515059948,
        2.7939619394019246
      ],
      "acceptance_rates": [
        0.8389261744966443,
        1.1682242990654206,
        0.8389261744966443,
        1.1682242990654206
      ],
      "total_tokens": 2000,
      "total_time": 14.538974185474217,
      "avg_throughput": 143.53976556387528,
      "std_throughput": 28.946683469265324,
      "avg_latency": 3.6347435463685542,
      "avg_acceptance_rate": 1.0035752367810324,
      "speedup": 1.5434325835216787
    },
    {
      "method": "Linear K=5",
      "K": 5,
      "throughputs": [
        119.59739839363785,
        186.79920749894967,
        128.2578524070422,
        196.39380512941835
      ],
      "latencies": [
        4.180692947469652,
        2.6766708847135305,
        3.898396789096296,
        2.545905150473118
      ],
      "acceptance_rates": [
        0.7246376811594203,
        1.098901098901099,
        0.7246376811594203,
        1.098901098901099
      ],
      "total_tokens": 2000,
      "total_time": 13.301665771752596,
      "avg_throughput": 157.76206585726203,
      "std_throughput": 34.141643662236156,
      "avg_latency": 3.325416442938149,
      "avg_acceptance_rate": 0.9117693900302597,
      "speedup": 1.6963599733582935
    },
    {
      "method": "Linear K=6",
      "K": 6,
      "throughputs": [
        130.57422812177722,
        201.6443194000976,
        135.61296798517327,
        210.44751971824292
      ],
      "latencies": [
        3.8292395612224936,
        2.479613616131246,
        3.6869630347937346,
        2.37588925100863
      ],
      "acceptance_rates": [
        0.6830601092896175,
        1.0416666666666667,
        0.6830601092896175,
        1.0416666666666667
      ],
      "total_tokens": 2000,
      "total_time": 12.371705463156104,
      "avg_throughput": 169.56975880632274,
      "std_throughput": 36.65202528748062,
      "avg_latency": 3.092926365789026,
      "avg_acceptance_rate": 0.862363387978142,
      "speedup": 1.8233239401880261
    },
    {
      "method": "Linear K=7",
      "K": 7,
      "throughputs": [
        133.94391913729396,
        216.39090471737674,
        134.15253597145826,
        221.88543202431214
      ],
      "latencies": [
        3.732905556447804,
        2.310633160173893,
        3.727100620046258,
        2.2534151766449213
      ],
      "acceptance_rates": [
        0.6157635467980296,
        1.0060362173038229,
        0.6157635467980296,
        1.0060362173038229
      ],
      "total_tokens": 2000,
      "total_time": 12.024054513312876,
      "avg_throughput": 176.5931979626103,
      "std_throughput": 42.589361065309376,
      "avg_latency": 3.006013628328219,
      "avg_acceptance_rate": 0.8108998820509262,
      "speedup": 1.8988445096944069
    },
    {
      "method": "Linear K=8",
      "K": 8,
      "throughputs": [
        131.58402108567378,
        228.77253646148841,
        132.00354378766627,
        229.82664389819251
      ],
      "latencies": [
        3.7998534766957164,
        2.185577026568353,
        3.7877770978957415,
        2.1755528058856726
      ],
      "acceptance_rates": [
        0.5580357142857143,
        0.9615384615384616,
        0.5580357142857143,
        0.9615384615384616
      ],
      "total_tokens": 2000,
      "total_time": 11.948760407045484,
      "avg_throughput": 180.54668630825523,
      "std_throughput": 48.75455392714848,
      "avg_latency": 2.987190101761371,
      "avg_acceptance_rate": 0.7597870879120879,
      "speedup": 1.941354978533972
    },
    {
      "method": "TreeV2 D=5 B=2 t=0.03",
      "tree_depth": 5,
      "branch_factor": 2,
      "threshold": 0.03,
      "throughputs": [
        164.6041348107015,
        164.01339691728683,
        92.07137141277973,
        84.87291885797367
      ],
      "latencies": [
        3.037590766325593,
        3.0485314577817917,
        5.4305697018280625,
        5.891160652041435
      ],
      "acceptance_rates": [
        0.4608294930875576,
        0.47393364928909953,
        0.4608294930875576,
        0.47393364928909953
      ],
      "avg_path_lengths": [
        5.05050505050505,
        4.854368932038835,
        5.05050505050505,
        4.854368932038835
      ],
      "total_tokens": 2000,
      "total_time": 17.407852577976882,
      "avg_throughput": 126.39045549968543,
      "std_throughput": 38.004198415298234,
      "avg_latency": 4.351963144494221,
      "avg_acceptance_rate": 0.46738157118832857,
      "avg_path_length": 4.952436991271942,
      "speedup": 1.3590320877147644
    },
    {
      "method": "TreeV2 D=6 B=2 t=0.02",
      "tree_depth": 6,
      "branch_factor": 2,
      "threshold": 0.02,
      "throughputs": [
        79.90911646956742,
        85.27374521195155,
        159.15773807611325,
        129.49889191305246
      ],
      "latencies": [
        6.25710835121572,
        5.863469450734556,
        3.141537483781576,
        3.8610368985682726
      ],
      "acceptance_rates": [
        0.3779289493575208,
        0.29205607476635514,
        0.3779289493575208,
        0.29205607476635514
      ],
      "avg_path_lengths": [
        5.2631578947368425,
        4.464285714285714,
        5.2631578947368425,
        4.464285714285714
      ],
      "total_tokens": 2000,
      "total_time": 19.123152184300125,
      "avg_throughput": 113.45987291767116,
      "std_throughput": 32.65599509912562,
      "avg_latency": 4.780788046075031,
      "avg_acceptance_rate": 0.334992512061938,
      "avg_path_length": 4.863721804511279,
      "speedup": 1.2199940838375904
    },
    {
      "method": "Tree D=3 B=2",
      "tree_depth": 3,
      "branch_factor": 2,
      "threshold": null,
      "throughputs": [
        120.84056424954625,
        113.05620632700915,
        123.43986023731749,
        113.45238997233916
      ],
      "latencies": [
        4.137683426961303,
        4.422578965313733,
        4.050555461086333,
        4.40713501162827
      ],
      "acceptance_rates": [
        0.27548209366391185,
        0.2544529262086514,
        0.27548209366391185,
        0.2544529262086514
      ],
      "avg_path_lengths": [
        4.132231404958677,
        3.816793893129771,
        4.132231404958677,
        3.816793893129771
      ],
      "total_tokens": 2000,
      "total_time": 17.01795286498964,
      "avg_throughput": 117.69725519655302,
      "std_throughput": 4.539166218538303,
      "avg_latency": 4.25448821624741,
      "avg_acceptance_rate": 0.2649675099362816,
      "avg_path_length": 3.9745126490442244,
      "speedup": 1.2655571642311783
    },
    {
      "method": "Streaming K=5 cache=256",
      "K": 5,
      "max_cache_len": 256,
      "throughputs": [
        115.40131778519986,
        159.9011490613403,
        115.75205755018234,
        161.25415808370013
      ],
      "latencies": [
        4.3327061561867595,
        3.1269318759441376,
        4.31957764364779,
        3.100695237517357
      ],
      "acceptance_rates": [
        0.6756756756756757,
        0.9433962264150944,
        0.6756756756756757,
        0.9433962264150944
      ],
      "total_tokens": 2000,
      "total_time": 14.879910913296044,
      "avg_throughput": 138.07717062010568,
      "std_throughput": 22.50590899223055,
      "avg_latency": 3.719977728324011,
      "avg_acceptance_rate": 0.809535951045385,
      "speedup": 1.4846952225285475
    },
    {
      "method": "Streaming K=5 cache=512",
      "K": 5,
      "max_cache_len": 512,
      "throughputs": [
        120.41679338777917,
        190.63716060959405,
        120.6753264632634,
        194.76928176054142
      ],
      "latencies": [
        4.15224476531148,
        2.6227835034951568,
        4.143349056132138,
        2.567139928229153
      ],
      "acceptance_rates": [
        0.6896551724137931,
        1.098901098901099,
        0.6896551724137931,
        1.098901098901099
      ],
      "total_tokens": 2000,
      "total_time": 13.485517253167927,
      "avg_throughput": 156.62464055529452,
      "std_throughput": 36.108262743154796,
      "avg_latency": 3.371379313291982,
      "avg_acceptance_rate": 0.8942781356574461,
      "speedup": 1.6841296393774468
    },
    {
      "method": "Streaming K=5 cache=1024",
      "K": 5,
      "max_cache_len": 1024,
      "throughputs": [
        127.69087224048657,
        195.46206157477513,
        127.56424475113076,
        195.06761181382723
      ],
      "latencies": [
        3.9157066689804196,
        2.5580411665141582,
        3.919593621045351,
        2.563213828019798
      ],
      "acceptance_rates": [
        0.7246376811594203,
        1.098901098901099,
        0.7246376811594203,
        1.098901098901099
      ],
      "total_tokens": 2000,
      "total_time": 12.956555284559727,
      "avg_throughput": 161.4461975950549,
      "std_throughput": 33.81895627701924,
      "avg_latency": 3.2391388211399317,
      "avg_acceptance_rate": 0.9117693900302597,
      "speedup": 1.7359741453876152
    },
    {
      "method": "Streaming K=6 cache=1024",
      "K": 6,
      "max_cache_len": 1024,
      "throughputs": [
        134.96154245994992,
        207.10453464678633,
        134.8743396813878,
        208.2191136224001
      ],
      "latencies": [
        3.7047590808942914,
        2.4142397502437234,
        3.707154386676848,
        2.4013165328651667
      ],
      "acceptance_rates": [
        0.6830601092896175,
        1.0416666666666667,
        0.6830601092896175,
        1.0416666666666667
      ],
      "total_tokens": 2000,
      "total_time": 12.22746975068003,
      "avg_throughput": 171.28988260263102,
      "std_throughput": 36.374089227521,
      "avg_latency": 3.0568674376700073,
      "avg_acceptance_rate": 0.862363387978142,
      "speedup": 1.841819826010912
    },
    {
      "method": "Tree+Streaming D=5 B=2",
      "throughputs": [
        72.63485703564814,
        108.7142265269535,
        72.92387344809647,
        109.06758939517584
      ],
      "latencies": [
        6.8837472861632705,
        4.599214067682624,
        6.856465192511678,
        4.584313293918967
      ],
      "total_tokens": 2000,
      "total_time": 22.92373984027654,
      "avg_throughput": 90.83513660146849,
      "speedup": 0.9767182564956953
    }
  ],
  "summary": {
    "baseline_throughput": 93.00034682198942,
    "best_method": "HF Assisted",
    "best_speedup": 2.467695094146689,
    "best_throughput": 229.49649960656393
  }
}